-- MySQL dump 10.13  Distrib 5.7.30-33, for debian-linux-gnu (x86_64)
--
-- Host: localhost    Database: sbase
-- ------------------------------------------------------
-- Server version	5.7.30-33-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
/*!50717 SELECT COUNT(*) INTO @rocksdb_has_p_s_session_variables FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'performance_schema' AND TABLE_NAME = 'session_variables' */;
/*!50717 SET @rocksdb_get_is_supported = IF (@rocksdb_has_p_s_session_variables, 'SELECT COUNT(*) INTO @rocksdb_is_supported FROM performance_schema.session_variables WHERE VARIABLE_NAME=\'rocksdb_bulk_load\'', 'SELECT 0') */;
/*!50717 PREPARE s FROM @rocksdb_get_is_supported */;
/*!50717 EXECUTE s */;
/*!50717 DEALLOCATE PREPARE s */;
/*!50717 SET @rocksdb_enable_bulk_load = IF (@rocksdb_is_supported, 'SET SESSION rocksdb_bulk_load = 1', 'SET @rocksdb_dummy_bulk_load = 0') */;
/*!50717 PREPARE s FROM @rocksdb_enable_bulk_load */;
/*!50717 EXECUTE s */;
/*!50717 DEALLOCATE PREPARE s */;

--
-- Table structure for table `ab_tests`
--

DROP TABLE IF EXISTS `ab_tests`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ab_tests` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `random_percentage` decimal(10,2) DEFAULT NULL,
  `enable` tinyint(1) NOT NULL DEFAULT '1',
  `is_approved` tinyint(1) NOT NULL DEFAULT '0',
  `test_user_ids` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `disabled_user_ids` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `in_count` bigint(20) NOT NULL DEFAULT '0',
  `out_count` bigint(20) NOT NULL DEFAULT '0',
  `for_frontend` tinyint(1) NOT NULL DEFAULT '0',
  `updated_at` datetime NOT NULL,
  `dashboard` tinyint(1) NOT NULL DEFAULT '0',
  `test_user_random_percentage` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `bkABTestEventUnique` (`name`),
  KEY `updatedAtIndex` (`updated_at`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `acl_object_identities`
--

DROP TABLE IF EXISTS `acl_object_identities`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `acl_object_identities` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `parent_object_identity_id` int(10) unsigned DEFAULT NULL,
  `class_id` int(10) unsigned NOT NULL,
  `object_identifier` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `entries_inheriting` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_9407E5494B12AD6EA000B10` (`object_identifier`,`class_id`),
  KEY `IDX_9407E54977FA751A` (`parent_object_identity_id`),
  CONSTRAINT `FK_9407E54977FA751A` FOREIGN KEY (`parent_object_identity_id`) REFERENCES `acl_object_identities` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `acl_object_identity_ancestors`
--

DROP TABLE IF EXISTS `acl_object_identity_ancestors`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `acl_object_identity_ancestors` (
  `object_identity_id` int(10) unsigned NOT NULL,
  `ancestor_id` int(10) unsigned NOT NULL,
  PRIMARY KEY (`object_identity_id`,`ancestor_id`),
  KEY `IDX_825DE2993D9AB4A6` (`object_identity_id`),
  KEY `IDX_825DE299C671CEA1` (`ancestor_id`),
  CONSTRAINT `FK_825DE2993D9AB4A6` FOREIGN KEY (`object_identity_id`) REFERENCES `acl_object_identities` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_825DE299C671CEA1` FOREIGN KEY (`ancestor_id`) REFERENCES `acl_object_identities` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `acl_security_identities`
--

DROP TABLE IF EXISTS `acl_security_identities`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `acl_security_identities` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `identifier` varchar(200) COLLATE utf8_unicode_ci NOT NULL,
  `username` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_8835EE78772E836AF85E0677` (`identifier`,`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `am_staff_shop`
--

DROP TABLE IF EXISTS `am_staff_shop`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `am_staff_shop` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) NOT NULL,
  `shop_id` int(11) NOT NULL,
  `sorting` int(11) DEFAULT NULL,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `app`
--

DROP TABLE IF EXISTS `app`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `app` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app_code` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `app_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `short_description` longtext COLLATE utf8_unicode_ci,
  `description` longtext COLLATE utf8_unicode_ci,
  `url` varchar(2048) COLLATE utf8_unicode_ci DEFAULT NULL,
  `price` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `updated` datetime NOT NULL,
  `platforms` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `enable` tinyint(1) DEFAULT '1',
  `app_slogan` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `featured_image` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `features` longtext COLLATE utf8_unicode_ci,
  `is_paid` int(3) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `apps_shops`
--

DROP TABLE IF EXISTS `apps_shops`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `apps_shops` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app_id` int(11) DEFAULT NULL,
  `shop_id` int(11) DEFAULT NULL,
  `coupon_id` int(11) DEFAULT NULL,
  `shopify_token_key` longtext COLLATE utf8_unicode_ci,
  `token_key` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `upgraded` datetime DEFAULT NULL,
  `is_power_user` tinyint(1) DEFAULT NULL,
  `enable` tinyint(1) NOT NULL,
  `is_internal_app` tinyint(1) NOT NULL,
  `in_active` tinyint(1) DEFAULT NULL,
  `recurring_app_charge_id` bigint(20) DEFAULT NULL,
  `recurring_app_charge_billing_on` date DEFAULT NULL,
  `recurring_app_charge_trial_ends_on` datetime DEFAULT NULL,
  `recurring_app_charge_amount` decimal(10,2) DEFAULT NULL,
  `payment_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `previous_payment_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `payment_status_last_updated` datetime NOT NULL,
  `custom_payment` tinyint(1) DEFAULT NULL,
  `custom_free_trial_day` int(11) DEFAULT NULL,
  `package` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,
  `package_type` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,
  `package_price` decimal(10,2) DEFAULT NULL,
  `package_origin_price` decimal(10,2) DEFAULT NULL,
  `cycle_success_order` int(11) DEFAULT NULL,
  `is_user_view_on_boarding` tinyint(1) DEFAULT NULL,
  `written_review` tinyint(1) DEFAULT NULL,
  `completed_onboarding` tinyint(1) DEFAULT NULL,
  `extra_charge_failed` tinyint(1) DEFAULT NULL,
  `app_feature_limited` tinyint(1) DEFAULT NULL,
  `rated` int(11) DEFAULT NULL,
  `hide_rating` tinyint(1) DEFAULT NULL,
  `cancel_subscription` tinyint(1) DEFAULT NULL,
  `completed_onboarding_at` datetime DEFAULT NULL,
  `last_installed` datetime DEFAULT NULL,
  `package_start_time` datetime DEFAULT NULL,
  `braintree_subscription_id` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,
  `braintree_next_billing_amount` decimal(10,2) DEFAULT NULL,
  `payment_gateway` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,
  `using_commission` tinyint(1) DEFAULT NULL,
  `commission_next_process_time` datetime DEFAULT NULL,
  `remaining_free_day` int(11) DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `first_time_payment` datetime DEFAULT NULL,
  `last_login` datetime DEFAULT NULL,
  `price_order_based` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `price_order_based_billing_on` date DEFAULT NULL,
  `price_order_based_charge_amount` decimal(10,2) DEFAULT NULL,
  `price_order_based_discount` decimal(10,2) DEFAULT NULL,
  `cancel_subscription_survey` smallint(6) DEFAULT NULL,
  `reputation_score` int(11) DEFAULT '10',
  `using_price_checkout_bases` tinyint(1) DEFAULT NULL,
  `package_group_id` int(11) DEFAULT NULL,
  `package_id` int(11) DEFAULT NULL,
  `package_converted_at` datetime DEFAULT NULL COMMENT 'thời điểm được convert sang package mới',
  `package_convert_rule_id` int(11) unsigned DEFAULT NULL COMMENT 'Sử dụng cho grandfathering discount',
  PRIMARY KEY (`id`),
  UNIQUE KEY `apps_shops_unique` (`app_id`,`shop_id`),
  KEY `IDX_445CB5777987212D` (`app_id`),
  KEY `IDX_445CB5774D16C4DD` (`shop_id`),
  KEY `IDX_445CB57766C5951B` (`coupon_id`),
  KEY `IDX_445CB57753B816F5` (`token_key`),
  CONSTRAINT `FK_445CB5774D16C4DD` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE,
  CONSTRAINT `FK_445CB57766C5951B` FOREIGN KEY (`coupon_id`) REFERENCES `coupon` (`id`),
  CONSTRAINT `FK_445CB5777987212D` FOREIGN KEY (`app_id`) REFERENCES `app` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `base_product_badges`
--

DROP TABLE IF EXISTS `base_product_badges`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `base_product_badges` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `base_product_id` int(11) NOT NULL,
  `badge_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=192 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `checkout.pbase_line_items`
--

DROP TABLE IF EXISTS `checkout.pbase_line_items`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `checkout.pbase_line_items` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `sb_line_item_id` bigint(20) NOT NULL,
  `pb_order_id` bigint(20) NOT NULL,
  `sb_order_id` bigint(20) NOT NULL,
  `profit` double DEFAULT NULL,
  `base_cost` double DEFAULT NULL,
  `processing_fee` double DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_line_item_id_UNIQUE` (`sb_line_item_id`),
  KEY `sb_order_id_INDEX` (`sb_order_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `coupon`
--

DROP TABLE IF EXISTS `coupon`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `coupon` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `description` text COLLATE utf8_unicode_ci NOT NULL,
  `coupon_code` varchar(64) COLLATE utf8_unicode_ci NOT NULL,
  `coupon_type` varchar(128) COLLATE utf8_unicode_ci NOT NULL,
  `coupon_value` int(11) NOT NULL,
  `coupon_value_yearly` int(11) NOT NULL,
  `coupon_value_semiyearly` int(11) NOT NULL,
  `package` varchar(128) COLLATE utf8_unicode_ci DEFAULT NULL,
  `total_view` int(11) DEFAULT '0',
  `total_app_shops` int(11) NOT NULL DEFAULT '0',
  `total_bills` int(11) NOT NULL DEFAULT '0',
  `total_bills_monthly` int(11) NOT NULL DEFAULT '0',
  `total_bills_yearly` int(11) NOT NULL DEFAULT '0',
  `limit_one_time` tinyint(1) DEFAULT NULL,
  `start_at` datetime DEFAULT NULL,
  `end_at` datetime DEFAULT NULL,
  `for_dev_store` tinyint(1) DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `coupon_x_months` smallint(5) unsigned DEFAULT NULL,
  `apps` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `platforms` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `paymentStatus` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `enable` tinyint(1) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_64BF3F02372BEC9A` (`coupon_code`),
  KEY `coupon_code` (`coupon_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `crisp_conversations`
--

DROP TABLE IF EXISTS `crisp_conversations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `crisp_conversations` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `website_id` varchar(255) DEFAULT NULL,
  `conversation_id` varchar(255) NOT NULL,
  `conversation_url` varchar(255) DEFAULT NULL,
  `customer_name` varchar(255) DEFAULT NULL,
  `agent_name` varchar(255) DEFAULT NULL,
  `agent_id` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `closed_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_conversation_id` (`conversation_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `crisp_conversations_rating`
--

DROP TABLE IF EXISTS `crisp_conversations_rating`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `crisp_conversations_rating` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `conversation_id` varchar(255) NOT NULL,
  `agent_name` varchar(255) DEFAULT NULL,
  `agent_id` varchar(255) DEFAULT NULL,
  `rate_number` int(11) DEFAULT NULL,
  `extra_answers` text,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `closed_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=60 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `custom_badges`
--

DROP TABLE IF EXISTS `custom_badges`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `custom_badges` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `display_name` varchar(100) NOT NULL,
  `text_color` varchar(7) NOT NULL,
  `background_color` varchar(7) NOT NULL,
  `is_root` tinyint(1) NOT NULL DEFAULT '0',
  `enable` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `custom_login`
--

DROP TABLE IF EXISTS `custom_login`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `custom_login` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `token` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  `reason` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `staff_id` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1781 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `db_migrations`
--

DROP TABLE IF EXISTS `db_migrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `db_migrations` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `table_name` varchar(255) NOT NULL,
  `migration_name` varchar(255) NOT NULL,
  `version` varchar(14) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `db_migrations_version_idx` (`version`)
) ENGINE=InnoDB AUTO_INCREMENT=57 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `doctrine_migration_versions`
--

DROP TABLE IF EXISTS `doctrine_migration_versions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `doctrine_migration_versions` (
  `version` varchar(191) COLLATE utf8_unicode_ci NOT NULL,
  `executed_at` datetime DEFAULT NULL,
  `execution_time` int(11) DEFAULT NULL,
  PRIMARY KEY (`version`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `event_log`
--

DROP TABLE IF EXISTS `event_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `event_log` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `entity` varchar(255) DEFAULT NULL,
  `ref_Id` varchar(255) DEFAULT NULL,
  `content` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `performed_by_user_id` int(11) DEFAULT NULL,
  `type` varchar(255) DEFAULT NULL,
  `tags` varchar(255) DEFAULT NULL,
  `source` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=164 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `event_log_tags`
--

DROP TABLE IF EXISTS `event_log_tags`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `event_log_tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `fos_user`
--

DROP TABLE IF EXISTS `fos_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `fos_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `username_canonical` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email_canonical` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `enabled` tinyint(1) NOT NULL,
  `salt` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `last_login` datetime DEFAULT NULL,
  `confirmation_token` varchar(180) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password_requested_at` datetime DEFAULT NULL,
  `roles` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '(DC2Type:array)',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_957A647992FC23A8` (`username_canonical`),
  UNIQUE KEY `UNIQ_957A6479A0D96FBF` (`email_canonical`),
  UNIQUE KEY `UNIQ_957A6479C05FB297` (`confirmation_token`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `fos_user_group`
--

DROP TABLE IF EXISTS `fos_user_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `fos_user_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `roles` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '(DC2Type:array)',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_583D1F3E5E237E06` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `fos_user_user`
--

DROP TABLE IF EXISTS `fos_user_user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `fos_user_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `username_canonical` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email_canonical` varchar(180) COLLATE utf8mb4_unicode_ci NOT NULL,
  `enabled` tinyint(1) NOT NULL,
  `salt` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `last_login` datetime DEFAULT NULL,
  `confirmation_token` varchar(180) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password_requested_at` datetime DEFAULT NULL,
  `roles` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '(DC2Type:array)',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `date_of_birth` datetime DEFAULT NULL,
  `firstname` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `lastname` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `biography` varchar(1000) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `gender` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `locale` varchar(8) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `timezone` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `facebook_uid` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `facebook_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `facebook_data` longtext COLLATE utf8mb4_unicode_ci COMMENT '(DC2Type:json)',
  `twitter_uid` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `twitter_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `twitter_data` longtext COLLATE utf8mb4_unicode_ci COMMENT '(DC2Type:json)',
  `gplus_uid` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `gplus_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `gplus_data` longtext COLLATE utf8mb4_unicode_ci COMMENT '(DC2Type:json)',
  `token` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `two_step_code` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_C560D76192FC23A8` (`username_canonical`),
  UNIQUE KEY `UNIQ_C560D761A0D96FBF` (`email_canonical`),
  UNIQUE KEY `UNIQ_C560D761C05FB297` (`confirmation_token`)
) ENGINE=InnoDB AUTO_INCREMENT=165 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `fos_user_user_group`
--

DROP TABLE IF EXISTS `fos_user_user_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `fos_user_user_group` (
  `user_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  PRIMARY KEY (`user_id`,`group_id`),
  KEY `IDX_B3C77447A76ED395` (`user_id`),
  KEY `IDX_B3C77447FE54D947` (`group_id`),
  CONSTRAINT `FK_B3C77447A76ED395` FOREIGN KEY (`user_id`) REFERENCES `fos_user_user` (`id`) ON DELETE CASCADE,
  CONSTRAINT `FK_B3C77447FE54D947` FOREIGN KEY (`group_id`) REFERENCES `fos_user_group` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `global_settings`
--

DROP TABLE IF EXISTS `global_settings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `global_settings` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `key_string` varchar(255) CHARACTER SET utf8 NOT NULL,
  `value` longtext CHARACTER SET utf8,
  `enable` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` datetime NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ipblock`
--

DROP TABLE IF EXISTS `ipblock`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ipblock` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `ip_address` varchar(255) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `unique_ip_address` (`ip_address`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `ipcountry_lookup`
--

DROP TABLE IF EXISTS `ipcountry_lookup`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ipcountry_lookup` (
  `addr_type` enum('ipv4','ipv6') COLLATE utf8mb4_unicode_ci NOT NULL,
  `ip_start` varbinary(16) NOT NULL,
  `ip_end` varbinary(16) NOT NULL,
  `country` char(2) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`addr_type`,`ip_start`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `language_dashboards`
--

DROP TABLE IF EXISTS `language_dashboards`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `language_dashboards` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `language_keys`
--

DROP TABLE IF EXISTS `language_keys`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `language_keys` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `dashboard_id` int(11) NOT NULL,
  `file` varchar(255) NOT NULL,
  `path` varchar(255) NOT NULL,
  `value` text,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_name` (`dashboard_id`,`file`,`path`)
) ENGINE=InnoDB AUTO_INCREMENT=850 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `languages`
--

DROP TABLE IF EXISTS `languages`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `languages` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `display_name` varchar(255) NOT NULL,
  `applied_regions` text,
  `priority` int(11) NOT NULL,
  `enabled` tinyint(1) NOT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_prority` (`priority`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `limit_feature`
--

DROP TABLE IF EXISTS `limit_feature`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `limit_feature` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `enable` tinyint(1) NOT NULL,
  `type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `amount` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fixed_amount` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transaction_ids` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `billing_at` datetime DEFAULT NULL,
  `next_billing_date` datetime DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `limit_feature_unique` (`shop_id`,`type`),
  UNIQUE KEY `shop_id` (`shop_id`,`type`),
  CONSTRAINT `limit_feature_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=438 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `migrate_capp_shop_data`
--

DROP TABLE IF EXISTS `migrate_capp_shop_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migrate_capp_shop_data` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `capp_shop_id` bigint(10) NOT NULL,
  `sb_shop_id` bigint(10) NOT NULL,
  `app_code` varchar(45) NOT NULL DEFAULT 'phub',
  `priority` int(11) DEFAULT NULL,
  `product_status` varchar(45) NOT NULL DEFAULT 'pending',
  `order_status` varchar(45) NOT NULL DEFAULT 'pending',
  `failed_product_ids` varchar(2000) DEFAULT NULL,
  `failed_order_ids` varchar(2000) DEFAULT NULL,
  `order_id_stopped` bigint(10) DEFAULT NULL,
  `product_id_stopped` bigint(10) DEFAULT NULL,
  `finished` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `index2` (`capp_shop_id`,`sb_shop_id`,`app_code`,`priority`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `migration_versions`
--

DROP TABLE IF EXISTS `migration_versions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `migration_versions` (
  `version` varchar(14) COLLATE utf8mb4_unicode_ci NOT NULL,
  `executed_at` datetime NOT NULL COMMENT '(DC2Type:datetime_immutable)',
  PRIMARY KEY (`version`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `offer_cart_discount`
--

DROP TABLE IF EXISTS `offer_cart_discount`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `offer_cart_discount` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) unsigned NOT NULL,
  `offer_id` int(11) unsigned NOT NULL,
  `cart_token` varchar(255) NOT NULL DEFAULT '',
  `discounted_items` text,
  `discounted_data` text,
  `discount_code` varchar(255) DEFAULT NULL,
  `total_discount` float DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `shop_cart` (`shop_id`,`cart_token`),
  KEY `offer_id` (`offer_id`),
  KEY `cart_token` (`cart_token`),
  KEY `shop_id` (`shop_id`)
) ENGINE=InnoDB AUTO_INCREMENT=645382 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `offer_template`
--

DROP TABLE IF EXISTS `offer_template`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `offer_template` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `title` varchar(255) DEFAULT NULL,
  `description` longtext,
  `image` text,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `product_type` text,
  `business_type` text,
  `publish` int(11) DEFAULT '0' COMMENT '1 -  Templates Gallery && Featured Template, 2 - Templates Gallery, 3 - Featured Template''',
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`),
  CONSTRAINT `offer_template_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=199 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `offer_template_collect`
--

DROP TABLE IF EXISTS `offer_template_collect`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `offer_template_collect` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `offer_template_id` bigint(20) unsigned DEFAULT NULL,
  `offer_id` bigint(20) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`),
  KEY `offer_template_id` (`offer_template_id`),
  KEY `offer_id` (`offer_id`),
  CONSTRAINT `offer_template_collect_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`),
  CONSTRAINT `offer_template_collect_ibfk_2` FOREIGN KEY (`offer_template_id`) REFERENCES `offer_template` (`id`) ON DELETE CASCADE,
  CONSTRAINT `offer_template_collect_ibfk_3` FOREIGN KEY (`offer_id`) REFERENCES `offers` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=346 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `offers`
--

DROP TABLE IF EXISTS `offers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `offers` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `activated` tinyint(4) NOT NULL,
  `offer_type` varchar(20) NOT NULL,
  `offer_name` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `offer_title` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `offer_message` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `offer_success_message` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `target_type` varchar(50) DEFAULT NULL,
  `recommend_type` varchar(50) DEFAULT NULL,
  `discount_data` text,
  `conditions` text,
  `enable_discount` tinyint(4) NOT NULL,
  `priority` int(10) unsigned DEFAULT '1',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `usell_offers_shop_id_fk` (`shop_id`),
  KEY `usell_offers_type_index` (`offer_type`),
  CONSTRAINT `usell_offers_shop_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=99084 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `offers_products`
--

DROP TABLE IF EXISTS `offers_products`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `offers_products` (
  `id` bigint(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `offer_id` bigint(20) NOT NULL,
  `ref_id` bigint(11) DEFAULT NULL,
  `ref_type` varchar(50) DEFAULT NULL,
  `ref_kind` varchar(50) DEFAULT NULL,
  `ref_name` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `numerical_order` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `offers_products_shop_id_fk` (`shop_id`),
  KEY `usell_offers_products_target_id_index` (`ref_id`),
  KEY `offers_products_kind_index` (`ref_kind`),
  KEY `offers_products_name_index` (`ref_name`),
  KEY `offers_products_offers_id_fk` (`offer_id`),
  CONSTRAINT `offers_products_offers_id_fk` FOREIGN KEY (`offer_id`) REFERENCES `offers` (`id`) ON DELETE CASCADE,
  CONSTRAINT `offers_products_shop_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=268414 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `package`
--

DROP TABLE IF EXISTS `package`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `package` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `code` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `package_group_id` int(11) DEFAULT NULL,
  `package_type` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `price` decimal(10,2) NOT NULL,
  `price_test` decimal(10,2) DEFAULT NULL,
  `offers` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `package_priority` int(11) DEFAULT NULL,
  `ab_test` tinyint(1) DEFAULT NULL,
  `platforms` longtext COLLATE utf8_unicode_ci NOT NULL COMMENT '(DC2Type:json_array)',
  `enable` tinyint(1) DEFAULT NULL,
  `ab_test_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `shop_level` int(11) DEFAULT NULL,
  `shopify_package` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `impression_price` int(11) DEFAULT NULL,
  `free_units` int(11) DEFAULT NULL,
  `units_per_bundle` int(11) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `commission_data` text COLLATE utf8_unicode_ci,
  `description` longtext COLLATE utf8_unicode_ci,
  `enable_extra_rule` tinyint(4) DEFAULT NULL,
  `transaction_fee` decimal(10,2) DEFAULT NULL,
  `shopbase_payment_fee` decimal(10,2) DEFAULT NULL,
  `staff_number` int(11) DEFAULT '0',
  `plan_id` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `shopbase_payment_nc` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `shopbase_payment_gateway_rate` decimal(10,2) DEFAULT NULL,
  `shopbase_payment_scheme_fee_unit` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `shopbase_payment_scheme_fee` decimal(10,2) DEFAULT NULL,
  `shopbase_payment_transaction_fee` decimal(10,2) DEFAULT NULL,
  `shopbase_payment_gateway_fees` text COLLATE utf8_unicode_ci,
  `printbase_application_fee` decimal(10,2) DEFAULT NULL,
  `ssl_number` int(11) DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `FK_Package_Group` (`package_group_id`),
  CONSTRAINT `FK_Package_Group` FOREIGN KEY (`package_group_id`) REFERENCES `package_group` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `package_group`
--

DROP TABLE IF EXISTS `package_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `package_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `abtest_package_group_id` int(11) DEFAULT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `enable` tinyint(1) NOT NULL,
  `enable_with_abtest_only` tinyint(1) DEFAULT NULL,
  `default_for_app` tinyint(1) DEFAULT NULL,
  `platforms` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `shop_levels` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `platform_package` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `enable_abtest` tinyint(1) DEFAULT NULL,
  `abtest_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `trial_day` int(11) DEFAULT '14',
  `priority` int(11) DEFAULT '0',
  `enable_abtest_for_customers` tinyint(1) DEFAULT NULL,
  `abtest_name_for_customers` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pricing_model_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_default` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `FK_F8C44322DF645031` (`abtest_package_group_id`),
  CONSTRAINT `FK_F8C44322DF645031` FOREIGN KEY (`abtest_package_group_id`) REFERENCES `package_group` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `payment_logs`
--

DROP TABLE IF EXISTS `payment_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `payment_logs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `event` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `amount` decimal(10,2) DEFAULT NULL,
  `package` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `braintree_transaction_id` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `braintree_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sent_invoices_email` tinyint(1) NOT NULL,
  `process_sent_invoices_email` tinyint(1) NOT NULL,
  `params` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `charge_type` int(11) DEFAULT NULL,
  `is_send_invoice` tinyint(1) NOT NULL,
  `coupon_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `updatedAtIndex` (`updated_at`),
  KEY `couponId` (`coupon_id`)
) ENGINE=InnoDB AUTO_INCREMENT=11843 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_base_product_feed_setting`
--

DROP TABLE IF EXISTS `pbase_base_product_feed_setting`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_base_product_feed_setting` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `ref_id` bigint(20) unsigned NOT NULL,
  `platform` varchar(55) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `custom_style_name` varchar(255) NOT NULL,
  `platform_category` varchar(255) NOT NULL,
  `age_group` varchar(20) NOT NULL,
  `size_type` varchar(20) NOT NULL,
  `size_system` varchar(20) NOT NULL,
  `gender` varchar(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `pbase_base_product_feed_setting_ref_id_platform_idx` (`ref_id`,`platform`)
) ENGINE=InnoDB AUTO_INCREMENT=146 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_base_product_shipping_data`
--

DROP TABLE IF EXISTS `pbase_base_product_shipping_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_base_product_shipping_data` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `base_product_id` int(11) NOT NULL,
  `zone_id` int(11) NOT NULL,
  `min_shipping_time` int(11) DEFAULT NULL,
  `max_shipping_time` int(11) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `base_product_id_idx` (`base_product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_catalog`
--

DROP TABLE IF EXISTS `pbase_catalog`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_catalog` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `catalog_id` int(10) unsigned NOT NULL,
  `base_product_name` text NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=155 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_category`
--

DROP TABLE IF EXISTS `pbase_category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `supplier_id` int(11) DEFAULT '1',
  `handle` varchar(255) DEFAULT NULL,
  `ref_id` varchar(255) DEFAULT NULL,
  `type` varchar(255) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `family` varchar(255) DEFAULT NULL,
  `url` varchar(255) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `sorting` int(10) DEFAULT '10',
  `status` int(11) DEFAULT NULL,
  `enable` tinyint(1) DEFAULT '1',
  PRIMARY KEY (`id`),
  KEY `supplier_id` (`supplier_id`,`ref_id`,`family`),
  KEY `supplier_id_2` (`supplier_id`),
  KEY `family` (`family`)
) ENGINE=InnoDB AUTO_INCREMENT=116 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_designs`
--

DROP TABLE IF EXISTS `pbase_designs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_designs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL DEFAULT '0',
  `ref_id` varchar(255) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `type` varchar(255) DEFAULT NULL,
  `sides` longtext,
  `validation` longtext,
  `mode` varchar(255) DEFAULT NULL,
  `customization` longtext,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `deleted_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`,`ref_id`)
) ENGINE=InnoDB AUTO_INCREMENT=102676 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_file_library`
--

DROP TABLE IF EXISTS `pbase_file_library`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_file_library` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) NOT NULL,
  `shop_id` bigint(20) NOT NULL,
  `thumbnail` varchar(500) DEFAULT NULL,
  `type` varchar(20) DEFAULT NULL COMMENT 'psd_personalize\nartwork',
  `status` varchar(20) DEFAULT NULL COMMENT 'processing\nsuccess\nfail',
  `path` varchar(500) DEFAULT NULL,
  `original_name` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `fail_reason` varchar(500) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `meta` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `image_type` varchar(32) DEFAULT NULL,
  `file_size` int(11) DEFAULT NULL,
  `width` int(11) DEFAULT NULL,
  `height` int(11) DEFAULT NULL,
  `resize_key` varchar(45) DEFAULT NULL,
  `ready_size` varchar(500) DEFAULT NULL,
  `file_name` varchar(500) DEFAULT NULL,
  `is_favorite` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop` (`shop_id`),
  KEY `type_IDX` (`type`) USING BTREE,
  KEY `deleted_at_IDX` (`deleted_at`) USING BTREE,
  KEY `image` (`image_type`)
) ENGINE=InnoDB AUTO_INCREMENT=12573 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_log_mockup_render`
--

DROP TABLE IF EXISTS `pbase_log_mockup_render`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_log_mockup_render` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `merchant_product_id` bigint(20) NOT NULL,
  `data` text,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `order_id` bigint(20) DEFAULT NULL,
  `type` varchar(32) DEFAULT NULL,
  `line_item_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `pbase_log_mockup_render_merchant_product_id_idx` (`merchant_product_id`) USING BTREE,
  KEY `order_id_idx` (`order_id`),
  KEY `type_idx` (`type`),
  KEY `line_item_id_idx` (`line_item_id`)
) ENGINE=InnoDB AUTO_INCREMENT=151721 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_log_publish_camp`
--

DROP TABLE IF EXISTS `pbase_log_publish_camp`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_log_publish_camp` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `camp_id` bigint(20) NOT NULL,
  `ref_id` bigint(20) NOT NULL,
  `step` varchar(50) NOT NULL,
  `data` text,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP,
  `status` varchar(100) DEFAULT NULL,
  `title` varchar(2000) DEFAULT NULL,
  `duplicate_camp_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_cam_ref` (`shop_id`,`camp_id`,`ref_id`,`title`)
) ENGINE=InnoDB AUTO_INCREMENT=327811 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_log_render_photopea`
--

DROP TABLE IF EXISTS `pbase_log_render_photopea`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_log_render_photopea` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `camp_id` bigint(20) DEFAULT NULL,
  `base_product_id` bigint(20) DEFAULT NULL,
  `app_code` varchar(150) DEFAULT NULL,
  `action_render` varchar(150) DEFAULT NULL,
  `print_type` varchar(150) DEFAULT NULL,
  `key_action` varchar(250) DEFAULT NULL,
  `psd` varchar(250) DEFAULT NULL,
  `position_mockup` int(11) DEFAULT '0',
  `supplier_id` int(11) DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `shop_cam` (`shop_id`,`camp_id`)
) ENGINE=InnoDB AUTO_INCREMENT=11552 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_order_refund_seller`
--

DROP TABLE IF EXISTS `pbase_order_refund_seller`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_order_refund_seller` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `sb_order_id` bigint(20) NOT NULL,
  `amount` double DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `reason` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `pbase_order_refund_seller_shop_id_sb_order_id_index` (`shop_id`,`sb_order_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_personalize_design`
--

DROP TABLE IF EXISTS `pbase_personalize_design`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_personalize_design` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) DEFAULT NULL,
  `name` varchar(500) DEFAULT NULL,
  `custom_option` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `status` varchar(30) DEFAULT NULL,
  `fonts` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `applicable_normal_campaign` tinyint(1) DEFAULT '0',
  `applicable_personalize_campaign` tinyint(1) DEFAULT '0',
  `can_preview` tinyint(1) DEFAULT '0',
  `preview_version` int(11) DEFAULT '0',
  `preview_reason` text,
  `preview_updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_shop_id_can_preview_preview_version` (`shop_id`,`can_preview`,`preview_version`)
) ENGINE=InnoDB AUTO_INCREMENT=2189 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_personalize_design_file`
--

DROP TABLE IF EXISTS `pbase_personalize_design_file`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_personalize_design_file` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `personalize_design_id` bigint(20) DEFAULT NULL,
  `file_library_id` bigint(20) DEFAULT NULL,
  `side` varchar(100) DEFAULT NULL,
  `base_products` longtext,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `personalize_design_id` (`personalize_design_id`),
  KEY `file_library_id` (`file_library_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2378 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_product_campaign_mapping`
--

DROP TABLE IF EXISTS `pbase_product_campaign_mapping`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_product_campaign_mapping` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `product_id` bigint(20) DEFAULT NULL,
  `campaign_id` int(11) NOT NULL,
  `campaign_status` int(11) NOT NULL COMMENT 'used only once campaign is failed',
  `campaign_title` varchar(45) DEFAULT NULL,
  `campaign_type` varchar(64) NOT NULL,
  `campaign_image` varchar(200) NOT NULL,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` datetime NOT NULL,
  `not_allow_bulk` tinyint(1) DEFAULT NULL,
  `reason_not_allow_bulk` varchar(1000) DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `is_approved` tinyint(1) NOT NULL,
  `is_available` tinyint(1) DEFAULT '1',
  `personalize_design_id` bigint(20) DEFAULT NULL,
  `assigned_staffs` text,
  `can_preview` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`,`shop_id`,`campaign_id`,`campaign_status`),
  KEY `isDeleted` (`deleted_at`),
  KEY `product_id` (`product_id`),
  KEY `campaign_type_idx` (`campaign_type`),
  KEY `is_approved_idx` (`is_approved`),
  KEY `pbase_product_campaign_mapping_campaign_id_IDX` (`campaign_id`) USING BTREE,
  KEY `shop_idx` (`shop_id`),
  KEY `idx_personalize_design_id` (`personalize_design_id`)
) ENGINE=InnoDB AUTO_INCREMENT=222185 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_product_group`
--

DROP TABLE IF EXISTS `pbase_product_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_product_group` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `display_name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `pbase_product_group_name_uindex` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_product_group_base_product`
--

DROP TABLE IF EXISTS `pbase_product_group_base_product`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_product_group_base_product` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `base_product_id` bigint(20) NOT NULL,
  `product_group_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `pbase_product_group_uindex` (`base_product_id`),
  KEY `pbase_product_group_base_product_pbase_product_group_id_fk` (`product_group_id`),
  CONSTRAINT `pbase_product_group_base_product_pbase_product_group_id_fk` FOREIGN KEY (`product_group_id`) REFERENCES `pbase_product_group` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=224 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_psd_files`
--

DROP TABLE IF EXISTS `pbase_psd_files`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_psd_files` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `file_id` bigint(20) NOT NULL,
  `original_path` varchar(2000) DEFAULT NULL,
  `original_json_path` varchar(2000) DEFAULT NULL,
  `resize_path` varchar(2000) DEFAULT NULL,
  `resize_json_path` varchar(2000) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  `status` varchar(20) DEFAULT NULL,
  `fail_reason` varchar(2000) DEFAULT NULL,
  `meta` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `idx` (`shop_id`,`file_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2453 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_purchase_line_items`
--

DROP TABLE IF EXISTS `pbase_purchase_line_items`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_purchase_line_items` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `line_item_id` bigint(20) NOT NULL,
  `purchase_order_id` bigint(20) NOT NULL,
  `cost` double(10,4) DEFAULT NULL,
  `purchase_status` varchar(50) DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL,
  `design_id` varchar(100) DEFAULT NULL,
  `supplier_name` varchar(50) DEFAULT NULL,
  `supplier_product_id` varchar(150) DEFAULT NULL,
  `supplier_product_color` varchar(50) DEFAULT NULL,
  `supplier_product_size` varchar(50) DEFAULT NULL,
  `supplier_product_quantity` int(11) DEFAULT NULL,
  `supplier_product_index` int(11) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `is_cancelled` tinyint(1) DEFAULT NULL,
  `artworks` text,
  `mockups` text,
  `print_type` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `pbase_purchase_line_items_purchase_order_id_IDX` (`purchase_order_id`) USING BTREE,
  KEY `pbase_purchase_line_items_purchase_supplier_name_IDX` (`supplier_name`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=145 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_purchase_orders`
--

DROP TABLE IF EXISTS `pbase_purchase_orders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_purchase_orders` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `order_id` bigint(20) NOT NULL,
  `supplier_id` bigint(20) NOT NULL,
  `total` double(10,4) DEFAULT NULL,
  `sub_total` double(10,4) DEFAULT NULL,
  `shipping` double(10,4) DEFAULT NULL,
  `tax` double(10,4) DEFAULT NULL,
  `other_fees` double(10,4) DEFAULT NULL,
  `supplier_order_id` varchar(50) DEFAULT NULL,
  `supplier_order_token` varchar(50) DEFAULT NULL,
  `supplier_order_container` varchar(50) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `fulfill_status` varchar(16) DEFAULT NULL,
  `purchase_status` varchar(16) DEFAULT NULL,
  `merchant_refunded_amount` double(10,4) DEFAULT '0.0000',
  `is_personalized` tinyint(1) DEFAULT NULL,
  `approved_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `pbase_purchase_order_order_id_IDX` (`order_id`) USING BTREE,
  KEY `pbase_purchase_order_supplier_id_IDX` (`supplier_id`) USING BTREE,
  KEY `pbase_purchase_order_shop_id_IDX` (`shop_id`) USING BTREE,
  KEY `pbase_purchase_order_supplier_order_id_IDX` (`supplier_order_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=106 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_shipping_zone`
--

DROP TABLE IF EXISTS `pbase_shipping_zone`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_shipping_zone` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `zone` varchar(255) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `default` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_size_chart`
--

DROP TABLE IF EXISTS `pbase_size_chart`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_size_chart` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) DEFAULT NULL,
  `description_inc` longtext,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `format_version` varchar(100) DEFAULT NULL,
  `description_html` longtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=172 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_supplier`
--

DROP TABLE IF EXISTS `pbase_supplier`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_supplier` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `url` varchar(255) DEFAULT NULL,
  `app_code` varchar(45) DEFAULT NULL,
  `check_daily` varchar(45) DEFAULT NULL,
  `stripe_secret_key` varchar(300) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `stripe_public_key` varchar(300) CHARACTER SET utf32 COLLATE utf32_unicode_ci DEFAULT NULL,
  `enable` tinyint(1) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `contact_point` longtext,
  PRIMARY KEY (`id`),
  KEY `stripe_secret_key` (`stripe_secret_key`),
  KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pbase_supplier_shipping_profile`
--

DROP TABLE IF EXISTS `pbase_supplier_shipping_profile`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pbase_supplier_shipping_profile` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `supplier_id` int(11) NOT NULL,
  `shipping_zone_id` int(11) NOT NULL,
  `shipping_time_from` int(11) NOT NULL,
  `shipping_time_to` int(11) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `shipping_fee` double NOT NULL,
  `product_type` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `phub_option_mapping`
--

DROP TABLE IF EXISTS `phub_option_mapping`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `phub_option_mapping` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `phub_option_set_mapping_id` bigint(20) NOT NULL,
  `base_product_id` bigint(20) NOT NULL DEFAULT '0',
  `sb_option_set_id` bigint(20) NOT NULL,
  `sb_option_id` bigint(20) NOT NULL,
  `base_os_name` varchar(200) NOT NULL,
  `base_os_value` varchar(200) NOT NULL,
  `selected` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `sb_style_option_id` bigint(20) NOT NULL DEFAULT '0',
  `front_image_file_id` bigint(20) DEFAULT NULL,
  `back_image_file_id` bigint(20) DEFAULT NULL,
  `front_image_url` text,
  `back_image_url` text,
  PRIMARY KEY (`id`),
  KEY `phub_option_mapping_shop_id_idx` (`shop_id`),
  KEY `phub_option_mapping_phub_option_set_mapping_id_idx` (`phub_option_set_mapping_id`),
  KEY `phub_option_mapping_sb_option_set_id_idx` (`sb_option_set_id`),
  KEY `phub_option_mapping_sb_option_id_idx` (`sb_option_id`),
  KEY `phub_option_mapping_base_product_id_idx` (`base_product_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=9848 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `phub_option_set_mapping`
--

DROP TABLE IF EXISTS `phub_option_set_mapping`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `phub_option_set_mapping` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `sb_product_id` bigint(20) NOT NULL,
  `mapping_data` text NOT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `front_image_url` text,
  `back_image_url` text,
  `back_image_file_id` bigint(20) DEFAULT NULL,
  `front_image_file_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_product_id_UNIQUE` (`sb_product_id`),
  KEY `phub_option_set_mapping_shop_id_idx` (`shop_id`),
  KEY `phub_option_set_mapping_sb_product_id_idx` (`sb_product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=40763 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `phub_variant_mapping`
--

DROP TABLE IF EXISTS `phub_variant_mapping`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `phub_variant_mapping` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `phub_option_set_mapping_id` bigint(20) NOT NULL,
  `sb_variant_id` bigint(20) NOT NULL,
  `sb_product_id` bigint(20) NOT NULL,
  `base_product_id` bigint(20) NOT NULL,
  `phub_option1_value` varchar(200) NOT NULL,
  `phub_option2_value` varchar(200) NOT NULL,
  `phub_option3_value` varchar(200) NOT NULL,
  `supplier_design_id` varchar(100) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `sb_style_option_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `phub_variant_mapping_shop_id_idx` (`shop_id`),
  KEY `phub_variant_mapping_phub_option_set_mapping_id_idx` (`phub_option_set_mapping_id`),
  KEY `phub_variant_mapping_sb_variant_id_idx` (`sb_variant_id`),
  KEY `phub_variant_mapping_sb_product_id_idx` (`sb_product_id`),
  KEY `phub_variant_mapping_base_product_id_idx` (`base_product_id`),
  KEY `phub_variant_mapping_supplier_design_id_idx` (`supplier_design_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4304 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `platform_credentials`
--

DROP TABLE IF EXISTS `platform_credentials`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `platform_credentials` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `ref_id` varchar(255) DEFAULT NULL,
  `platform` varchar(50) NOT NULL,
  `metadata` mediumtext,
  `status` varchar(50) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `raw` mediumtext,
  `target_country` varchar(10) DEFAULT NULL,
  `language` varchar(10) DEFAULT NULL,
  `email` varchar(255) DEFAULT NULL,
  `target` varchar(255) DEFAULT NULL,
  `title` varchar(255) DEFAULT NULL,
  `settings` mediumtext,
  PRIMARY KEY (`id`),
  KEY `platform_credentials_shop_id_status_index` (`shop_id`,`status`),
  KEY `platform_credentials_platform_index` (`platform`)
) ENGINE=InnoDB AUTO_INCREMENT=104 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_artwork_transformations`
--

DROP TABLE IF EXISTS `pod_artwork_transformations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_artwork_transformations` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `order_id` bigint(20) NOT NULL,
  `spod_line_item_id` bigint(20) NOT NULL,
  `part_name` varchar(20) NOT NULL,
  `require_transform` tinyint(4) DEFAULT NULL,
  `transform_data` text NOT NULL,
  `artwork_url` text NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `supplier_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id_idx` (`shop_id`),
  KEY `order_id_idx` (`order_id`),
  KEY `line_item_id_idx` (`spod_line_item_id`)
) ENGINE=InnoDB AUTO_INCREMENT=11105 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_cliparts`
--

DROP TABLE IF EXISTS `pod_cliparts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_cliparts` (
  `id` bigint(5) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(5) NOT NULL,
  `parent_id` bigint(5) DEFAULT NULL,
  `ancestor_id` bigint(5) NOT NULL,
  `hierarchy_path` text NOT NULL,
  `name` text NOT NULL,
  `path` text,
  `thumbnail` text,
  `type` varchar(20) CHARACTER SET utf8 NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `deleted_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_idx` (`shop_id`),
  KEY `shop_ancestor_idx` (`shop_id`,`ancestor_id`),
  KEY `shop_type_idx` (`shop_id`,`type`),
  KEY `shop_parent_idx` (`shop_id`,`parent_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1155 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_cliparts_campaigns`
--

DROP TABLE IF EXISTS `pod_cliparts_campaigns`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_cliparts_campaigns` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `campaign_mapping_id` bigint(20) NOT NULL,
  `campaign_id` bigint(20) NOT NULL,
  `clipart_id` bigint(20) NOT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id_idx` (`shop_id`),
  KEY `shop_mapping_idx` (`shop_id`,`clipart_id`,`campaign_mapping_id`),
  KEY `shop_key_idx` (`shop_id`,`campaign_id`,`clipart_id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_editor_artwork`
--

DROP TABLE IF EXISTS `pod_editor_artwork`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_editor_artwork` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `campaign_id` int(11) NOT NULL,
  `base_product_id` int(11) NOT NULL,
  `side` varchar(32) NOT NULL,
  `print_info` longtext,
  `meta_data` longtext,
  `resized_meta_data` longtext,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `shop_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id_idx` (`shop_id`),
  KEY `campaign_id_idx` (`campaign_id`),
  KEY `shop_id_base_product_id_idx` (`shop_id`,`base_product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=33023 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_line_item_import`
--

DROP TABLE IF EXISTS `pod_line_item_import`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_line_item_import` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `order_import_id` bigint(20) NOT NULL,
  `ref_id` bigint(20) DEFAULT NULL,
  `status` varchar(50) DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL,
  `quantity` int(11) DEFAULT NULL,
  `sku` varchar(255) DEFAULT NULL,
  `product_id` varchar(255) DEFAULT NULL,
  `product_name` varchar(50) DEFAULT NULL,
  `color` varchar(20) DEFAULT NULL,
  `size` varchar(20) DEFAULT NULL,
  `design_id` varchar(255) DEFAULT NULL,
  `shipping_name` varchar(50) DEFAULT NULL,
  `shipping_address1` varchar(50) DEFAULT NULL,
  `shipping_address2` varchar(50) DEFAULT NULL,
  `shipping_company` varchar(50) DEFAULT NULL,
  `shipping_zip` varchar(10) DEFAULT NULL,
  `shipping_phone` varchar(50) DEFAULT NULL,
  `shipping_country` varchar(255) DEFAULT NULL,
  `artwork_front_url` varchar(255) DEFAULT NULL,
  `artwork_back_url` varchar(255) DEFAULT NULL,
  `supplier_id` int(11) DEFAULT NULL,
  `supplier_name` varchar(50) DEFAULT NULL,
  `supplier_product_id` varchar(255) DEFAULT NULL,
  `supplier_product_color` varchar(20) DEFAULT NULL,
  `supplier_product_size` varchar(20) DEFAULT NULL,
  `cost` double DEFAULT NULL,
  `shipping_fee` double DEFAULT NULL,
  `tax` double DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `shipping_city` varchar(50) DEFAULT NULL,
  `shipping_province` varchar(50) DEFAULT NULL,
  `mockup_front_url` varchar(255) DEFAULT NULL,
  `mockup_back_url` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `pod_line_item_import_shop_index` (`shop_id`,`design_id`,`ref_id`,`product_id`,`order_import_id`)
) ENGINE=InnoDB AUTO_INCREMENT=7305 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_logs`
--

DROP TABLE IF EXISTS `pod_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_logs` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_name` varchar(255) NOT NULL,
  `fos_user_id` bigint(20) DEFAULT NULL,
  `value` text,
  `prev_value` text,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `action` varchar(255) NOT NULL,
  `note` text,
  `source` varchar(255) DEFAULT NULL,
  `source_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `pod_logs_action_index` (`action`),
  KEY `pod_logs_created_index` (`created_at`),
  KEY `pod_logs_fos_user_index` (`fos_user_id`),
  KEY `pod_logs_source_id_index` (`source_id`),
  KEY `pod_logs_source_index` (`source`),
  KEY `pod_logs_updated_index` (`updated_at`),
  KEY `pod_logs_user_index` (`user_name`)
) ENGINE=InnoDB AUTO_INCREMENT=132924 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_merchant_po`
--

DROP TABLE IF EXISTS `pod_merchant_po`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_merchant_po` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `source` varchar(50) DEFAULT NULL,
  `source_id` bigint(20) DEFAULT NULL,
  `order_name` varchar(255) DEFAULT NULL,
  `is_personalized` tinyint(4) DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  `profit` double DEFAULT NULL,
  `base_cost` double DEFAULT NULL,
  `processing_fee` double DEFAULT NULL,
  `processing_rate` double DEFAULT NULL,
  `shipping_fee` double DEFAULT NULL,
  `tax` double DEFAULT NULL,
  `payment_fee` double DEFAULT NULL,
  `note` text,
  `payment_id` int(11) DEFAULT NULL,
  `sb_customer_address_id` bigint(20) DEFAULT NULL,
  `approved_at` datetime DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `amount` double DEFAULT NULL,
  `system_order_name` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `system_order_name_idx` (`system_order_name`)
) ENGINE=InnoDB AUTO_INCREMENT=5525 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_merchant_po_line_item`
--

DROP TABLE IF EXISTS `pod_merchant_po_line_item`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_merchant_po_line_item` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `mpo_id` bigint(20) NOT NULL,
  `sku` varchar(255) DEFAULT NULL,
  `status` varchar(50) DEFAULT NULL,
  `supplier_name` varchar(50) DEFAULT NULL,
  `supplier_id` bigint(20) DEFAULT NULL,
  `artworks` text,
  `artwork_status` varchar(50) DEFAULT NULL,
  `print_type` varchar(50) DEFAULT NULL,
  `base_cost` double DEFAULT NULL,
  `base_product_id` int(11) DEFAULT NULL,
  `tracking_carrier` varchar(255) DEFAULT NULL,
  `tracking_data` text,
  `variant_title` varchar(255) DEFAULT NULL,
  `campaign_type` varchar(50) DEFAULT NULL,
  `personalize_design_id` bigint(20) DEFAULT NULL,
  `tax` double DEFAULT NULL,
  `fail_reason` text,
  `first_tracking_updated_at` datetime DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  `line_item_import_id` bigint(20) DEFAULT NULL,
  `mockup_front_url` varchar(255) DEFAULT NULL,
  `mockup_back_url` varchar(255) DEFAULT NULL,
  `product_name` varchar(255) DEFAULT NULL,
  `ref_id` varchar(255) DEFAULT NULL,
  `sku_generated` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `pod_merchant_po_line_item_shop_index` (`shop_id`,`mpo_id`,`line_item_import_id`,`product_name`,`status`,`created_at`,`base_product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6283 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_order_import`
--

DROP TABLE IF EXISTS `pod_order_import`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_order_import` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `path` varchar(255) NOT NULL,
  `status` varchar(255) DEFAULT NULL,
  `type` varchar(11) DEFAULT NULL,
  `finished_at` datetime DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `name` varchar(50) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `pod_order_import_shop_index` (`shop_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6352 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_supplier_po`
--

DROP TABLE IF EXISTS `pod_supplier_po`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_supplier_po` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `mpo_id` bigint(20) NOT NULL,
  `supplier_id` int(11) NOT NULL,
  `status` varchar(255) DEFAULT NULL,
  `total` double DEFAULT NULL,
  `sub_total` double DEFAULT NULL,
  `shipping_fee` double DEFAULT NULL,
  `tax` double DEFAULT NULL,
  `other_fees` double DEFAULT NULL,
  `supplier_order_id` varchar(50) DEFAULT NULL,
  `supplier_order_token` varchar(50) DEFAULT NULL,
  `supplier_order_status` varchar(11) DEFAULT NULL,
  `fail_reason` varchar(255) DEFAULT NULL,
  `placed_at` datetime DEFAULT NULL,
  `fulfilled_at` datetime DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `system_order_name` varchar(32) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `pod_supplier_po_shop_index` (`shop_id`,`mpo_id`,`status`),
  KEY `supplier_order_id_idx` (`supplier_order_id`),
  KEY `system_order_name_idx` (`system_order_name`)
) ENGINE=InnoDB AUTO_INCREMENT=820 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pod_supplier_po_line_item`
--

DROP TABLE IF EXISTS `pod_supplier_po_line_item`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pod_supplier_po_line_item` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `mpo_id` bigint(20) NOT NULL,
  `mpo_line_item_id` bigint(20) NOT NULL,
  `cost` double DEFAULT NULL,
  `design_id` varchar(255) DEFAULT NULL,
  `supplier_product_id` varchar(255) DEFAULT NULL,
  `supplier_product_color` varchar(50) DEFAULT NULL,
  `supplier_product_size` varchar(50) DEFAULT NULL,
  `supplier_product_quantity` int(11) DEFAULT NULL,
  `supplier_line_item_ref_id` int(11) DEFAULT NULL,
  `status` varchar(50) DEFAULT NULL,
  `artworks` text,
  `mockups` text,
  `print_type` varchar(50) DEFAULT NULL,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` datetime NOT NULL,
  `spo_id` bigint(20) NOT NULL,
  `supplier_product_index_in_order` varchar(32) DEFAULT NULL,
  `tracking_carrier` varchar(255) DEFAULT NULL,
  `tracking_number` varchar(255) DEFAULT NULL,
  `tracking_url` varchar(255) DEFAULT NULL,
  `mockup_front_url` text,
  `mockup_back_url` text,
  `sku` varchar(255) NOT NULL,
  `expected_shipping_line` varchar(64) DEFAULT NULL,
  `expected_shipping_price` decimal(10,2) DEFAULT NULL,
  `fulfilled_by_supplier_name` varchar(255) DEFAULT NULL,
  `supplier_order_status` varchar(255) DEFAULT NULL,
  `placed_at` datetime DEFAULT NULL,
  `reprint_count` int(11) DEFAULT '0',
  `awaiting_shipment_at` datetime DEFAULT NULL,
  `artwork_status` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `mpo_line_item_id_UNIQUE` (`mpo_line_item_id`),
  KEY `pod_supplier_line_item_shop_index` (`shop_id`,`mpo_id`,`spo_id`,`mpo_line_item_id`,`design_id`),
  KEY `supplier_product_index_in_order_idx` (`supplier_product_index_in_order`)
) ENGINE=InnoDB AUTO_INCREMENT=907 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_adc_country`
--

DROP TABLE IF EXISTS `sb_adc_country`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_adc_country` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `country_code` varchar(45) NOT NULL,
  `country_name` text NOT NULL,
  `phone_country_code` varchar(45) DEFAULT NULL,
  `province` varchar(45) DEFAULT NULL,
  `city` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`,`country_code`)
) ENGINE=InnoDB AUTO_INCREMENT=1090 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_adc_metadata`
--

DROP TABLE IF EXISTS `sb_adc_metadata`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_adc_metadata` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `meta_key` varchar(48) NOT NULL,
  `meta_value` longtext NOT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id__meta_key` (`shop_id`,`meta_key`),
  KEY `adc_metadata_shop_id_fk` (`shop_id`),
  CONSTRAINT `adc_metadata_shop_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=173975 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_adc_product`
--

DROP TABLE IF EXISTS `sb_adc_product`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_adc_product` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `ali_store_id` bigint(20) DEFAULT NULL,
  `ali_product_id` bigint(20) DEFAULT NULL,
  `ref_id` bigint(20) unsigned DEFAULT NULL COMMENT 'shopbase product id',
  `price` double DEFAULT NULL,
  `new_price` double DEFAULT NULL,
  `url` text,
  `title` varchar(255) DEFAULT NULL,
  `origin_title` varchar(255) DEFAULT NULL,
  `source` varchar(100) DEFAULT NULL,
  `compare_price` double DEFAULT NULL,
  `mapped_options` text,
  `default_image` text,
  `option_images` text,
  `images` text,
  `variants` longtext,
  `type` text,
  `status` varchar(30) DEFAULT NULL,
  `origin_options` text,
  `unavailable` tinyint(1) DEFAULT NULL,
  `short_description` text,
  `previous_options` text,
  `vendor` varchar(255) DEFAULT NULL,
  `tags` text,
  `limit_quantity` int(11) DEFAULT NULL,
  `package_weight` float DEFAULT NULL,
  `fulfillment_services` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `published_at` datetime DEFAULT NULL,
  `variant_images` text,
  `published` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `shop_id_ref_id_ali_product_id_unq` (`shop_id`,`ref_id`,`ali_product_id`),
  KEY `abc_product_shop_id_fk` (`shop_id`),
  KEY `ref_id_index` (`ref_id`) USING BTREE,
  CONSTRAINT `abc_product_shop_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=3763 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_admin_subscriber_channel`
--

DROP TABLE IF EXISTS `sb_admin_subscriber_channel`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_admin_subscriber_channel` (
  `id` int(4) NOT NULL AUTO_INCREMENT,
  `channel` varchar(50) CHARACTER SET utf8 NOT NULL DEFAULT '',
  `description` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `enable` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `channel_column` (`channel`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_ads_cost`
--

DROP TABLE IF EXISTS `sb_ads_cost`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_ads_cost` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `staff_user_id` bigint(20) NOT NULL,
  `bm_account_id` varchar(255) DEFAULT NULL,
  `campaign_id` varchar(255) DEFAULT NULL,
  `ad_set_id` varchar(255) DEFAULT NULL,
  `ad_id` varchar(255) DEFAULT NULL,
  `ad_spend` double DEFAULT NULL,
  `ts` bigint(20) NOT NULL,
  `created_at` date DEFAULT NULL,
  `updated_at` date DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_ads_cost_shop_id_staff_user_id_ts_uindex` (`shop_id`,`staff_user_id`,`ts`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_affiliate_commission_log`
--

DROP TABLE IF EXISTS `sb_affiliate_commission_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_affiliate_commission_log` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `ref_user_id` bigint(20) NOT NULL,
  `customer_user_id` bigint(20) NOT NULL,
  `ref_id` varchar(60) NOT NULL,
  `commission_type` varchar(100) NOT NULL,
  `sale_in_cent` int(11) NOT NULL,
  `commission_rate` float DEFAULT NULL,
  `item_quantity` int(11) NOT NULL DEFAULT '1',
  `is_processed` tinyint(1) NOT NULL,
  `meta_data` text,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_affiliate_commission_log_ref_id_uindex` (`ref_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4135 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_affiliate_group`
--

DROP TABLE IF EXISTS `sb_affiliate_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_affiliate_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `billing_cashback_group_id` int(11) DEFAULT NULL,
  `sale_cashback_group_id` int(11) DEFAULT NULL,
  `merchant_cashback_group_id` int(11) DEFAULT NULL,
  `duration_in_month` int(11) NOT NULL,
  `threshold_in_cent` int(11) NOT NULL,
  `is_active` tinyint(1) NOT NULL,
  `is_default` tinyint(1) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_audit_log`
--

DROP TABLE IF EXISTS `sb_audit_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_audit_log` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(11) DEFAULT NULL,
  `affect_id` bigint(20) unsigned DEFAULT NULL,
  `log_type` varchar(50) DEFAULT NULL,
  `description` text,
  `old_data` text,
  `new_data` text,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_source` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance`
--

DROP TABLE IF EXISTS `sb_balance`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `available_amount` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `fk_sb_balance_user_id_idx` (`user_id`),
  CONSTRAINT `fk_sb_balance_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=2435 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_bucket`
--

DROP TABLE IF EXISTS `sb_balance_bucket`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_bucket` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) NOT NULL,
  `bucket_code` varchar(100) NOT NULL,
  `available_payout` bigint(20) NOT NULL,
  `disabled_payout` bigint(20) NOT NULL,
  `available_soon` bigint(20) NOT NULL,
  `source_ref_id` varchar(255) DEFAULT NULL,
  `source_payload` text,
  `source_default` tinyint(1) DEFAULT NULL,
  `status` varchar(100) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_balance_bucket_user_id_bucket_code_uindex` (`user_id`,`bucket_code`),
  KEY `sb_balance_bucket_user_id_index` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=296200 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_fee_configuration`
--

DROP TABLE IF EXISTS `sb_balance_fee_configuration`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_fee_configuration` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `balance_invoice_type` varchar(100) NOT NULL,
  `balance_transaction_type` varchar(100) NOT NULL,
  `fee_rate` text,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `balance_fee_configuration_invoice_transaction_uindex` (`balance_invoice_type`,`balance_transaction_type`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_history`
--

DROP TABLE IF EXISTS `sb_balance_history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_history` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `balance_id` bigint(20) unsigned NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `amount` bigint(20) NOT NULL DEFAULT '0',
  `transaction_type` varchar(45) DEFAULT NULL,
  `reason_title` varchar(255) DEFAULT NULL,
  `reason_body` text,
  `issuer_type` varchar(45) DEFAULT NULL,
  `issuer_ref_id` bigint(20) DEFAULT NULL,
  `status` varchar(45) DEFAULT NULL,
  `payment_intent_id` varchar(255) DEFAULT NULL,
  `fee_details` mediumtext,
  `fee_detail` mediumtext,
  `destination` varchar(100) DEFAULT NULL,
  `migrated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_sb_balance_history_shop_id_idx` (`shop_id`),
  KEY `fk_sb_balance_history_balance_id_idx` (`balance_id`),
  CONSTRAINT `fk_sb_balance_history_balance_id` FOREIGN KEY (`balance_id`) REFERENCES `sb_balance` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT `fk_sb_balance_history_shop_id` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=8791 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_holding`
--

DROP TABLE IF EXISTS `sb_balance_holding`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_holding` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `balance_id` bigint(20) unsigned NOT NULL,
  `transaction_ref_key` varchar(55) NOT NULL,
  `amount` bigint(20) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0',
  `is_processed` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_balance_holding_ref_key_idx` (`transaction_ref_key`),
  KEY `sb_balance_holding_shop_id_transaction_ref_key_idx` (`shop_id`,`transaction_ref_key`),
  KEY `sb_balance_holding_balance_id_idx` (`balance_id`),
  KEY `sb_balance_holding_shop_id_idx` (`shop_id`),
  KEY `sb_balance_holding_is_deleted` (`is_deleted`),
  KEY `sb_balance_holding_is_processed` (`is_processed`),
  CONSTRAINT `sb_balance_holding_sb_balance_id_fk` FOREIGN KEY (`balance_id`) REFERENCES `sb_balance` (`id`),
  CONSTRAINT `sb_balance_holding_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3607 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_holding_log`
--

DROP TABLE IF EXISTS `sb_balance_holding_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_holding_log` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) NOT NULL,
  `shop_id` bigint(20) DEFAULT NULL,
  `balance_invoice_id` bigint(20) NOT NULL,
  `balance_transaction_id` bigint(20) NOT NULL,
  `bucket_code` varchar(100) NOT NULL,
  `amount_cent` bigint(20) DEFAULT NULL,
  `processing_key` varchar(100) DEFAULT NULL,
  `status` varchar(100) NOT NULL,
  `available_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `amount_type` varchar(55) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_holding_log_balance_invoice_transaction_id_uindex` (`balance_transaction_id`),
  KEY `sb_balance_holding_log_user_id_bucket_index` (`user_id`,`bucket_code`,`amount_type`,`status`) USING BTREE,
  KEY `sb_balance_holding_log_user_id_index` (`user_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5235 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_invoices`
--

DROP TABLE IF EXISTS `sb_balance_invoices`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_invoices` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) DEFAULT NULL,
  `shop_id` bigint(20) DEFAULT NULL,
  `invoice_type` varchar(255) DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  `custom_id` varchar(255) DEFAULT NULL,
  `amount_cent` bigint(20) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `metadata` text,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_balance_invoices_user_id_custom_id_uindex` (`user_id`,`custom_id`),
  KEY `sb_balance_invoices_id_index` (`id`),
  KEY `sb_balance_invoices_user_id_custom_id_index` (`user_id`,`custom_id`),
  KEY `sb_balance_invoices_shop_id_created_at_index` (`shop_id`,`created_at`)
) ENGINE=InnoDB AUTO_INCREMENT=555546 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_migration_bucket`
--

DROP TABLE IF EXISTS `sb_balance_migration_bucket`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_migration_bucket` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) NOT NULL,
  `version` varchar(100) NOT NULL,
  `bucket_code` varchar(100) NOT NULL,
  `available_payout` bigint(20) NOT NULL,
  `disabled_payout` bigint(20) NOT NULL,
  `available_soon` bigint(20) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_migration_bucket_user_id_bucket_code_uindex` (`user_id`,`bucket_code`,`version`) USING BTREE,
  KEY `sb_migration_bucket_user_id_index` (`user_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_payout_request`
--

DROP TABLE IF EXISTS `sb_balance_payout_request`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_payout_request` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `balance_id` bigint(20) unsigned DEFAULT NULL,
  `shop_id` int(11) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `amount` int(11) unsigned NOT NULL,
  `status` varchar(45) NOT NULL,
  `email` varchar(255) NOT NULL,
  `method` varchar(255) NOT NULL,
  `approved_at` datetime DEFAULT NULL,
  `refuse_reason` text,
  `advice` varchar(255) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `balance_invoice_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `status_idx` (`status`),
  KEY `sb_balance_payout_request_user_id_index` (`user_id`),
  CONSTRAINT `sb_balance_payout_request_users_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=594 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_setting`
--

DROP TABLE IF EXISTS `sb_balance_setting`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_setting` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `balance_id` bigint(20) DEFAULT NULL,
  `user_id` int(11) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `threshold` bigint(20) NOT NULL DEFAULT '0',
  `minimum_amount` bigint(20) NOT NULL DEFAULT '0',
  `auto_recharge` tinyint(1) NOT NULL DEFAULT '1',
  `payoneer_email` varchar(45) DEFAULT NULL,
  `paypal_email` varchar(45) DEFAULT NULL,
  `pingpong_email` varchar(45) DEFAULT NULL,
  `non_fraud_order_hold_in_hour` int(11) DEFAULT '0',
  `fraud_order_hold_in_hour` int(11) DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id_UNIQUE` (`user_id`),
  UNIQUE KEY `balance_id` (`balance_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=4383 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_top_up_retry`
--

DROP TABLE IF EXISTS `sb_balance_top_up_retry`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_top_up_retry` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `amount` int(11) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `history_id` bigint(20) DEFAULT NULL,
  `attempts` int(11) DEFAULT NULL,
  `status` varchar(45) DEFAULT NULL,
  `scheduled_at` datetime DEFAULT NULL,
  `invoice_id` bigint(20) DEFAULT NULL,
  `is_negative` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=514 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_balance_transactions`
--

DROP TABLE IF EXISTS `sb_balance_transactions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_balance_transactions` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `balance_invoice_id` bigint(20) DEFAULT NULL,
  `transaction_type` varchar(255) DEFAULT NULL,
  `bucket_code` varchar(100) DEFAULT NULL,
  `amount_cent` bigint(20) DEFAULT NULL,
  `details` text,
  `metadata` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  `available_at` datetime DEFAULT NULL,
  `available_status` tinyint(1) DEFAULT '1',
  `shop_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_balance_transactions_sb_balance_invoices_id_fk` (`balance_invoice_id`),
  KEY `sb_balance_transactions_user_id_balance_invoice_id_index` (`user_id`,`balance_invoice_id`),
  KEY `sb_balance_transactions_shop_id_available_at_index` (`shop_id`,`available_at`),
  KEY `sb_balance_transactions_shop_id` (`shop_id`),
  KEY `sb_balance_tranasction_user_id` (`user_id`),
  KEY `sb_balance_tranasction_user_id_bucket_available_status` (`user_id`,`bucket_code`,`available_status`),
  CONSTRAINT `sb_balance_transactions_sb_balance_invoices_id_fk` FOREIGN KEY (`balance_invoice_id`) REFERENCES `sb_balance_invoices` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=593859 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_billing_card`
--

DROP TABLE IF EXISTS `sb_billing_card`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_billing_card` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `bin` varchar(20) DEFAULT NULL,
  `last_4` varchar(20) DEFAULT NULL,
  `expiration_month` varchar(20) DEFAULT NULL,
  `expiration_year` varchar(20) DEFAULT NULL,
  `card_type` varchar(20) DEFAULT NULL,
  `card_holder_name` varchar(255) DEFAULT NULL,
  `customer_location` varchar(20) DEFAULT NULL,
  `unique_number_identifier` varchar(255) NOT NULL,
  `billing_address` text,
  `balance_provider` varchar(100) NOT NULL,
  `status` varchar(20) NOT NULL DEFAULT 'active',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `note` text,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_billing_card_unique_number_identifier_balance_provider_uindex` (`unique_number_identifier`,`balance_provider`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=latin1 COMMENT='Billing card info';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_billing_coupon`
--

DROP TABLE IF EXISTS `sb_billing_coupon`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_billing_coupon` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `code` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `discount_type` enum('percentage','fixed_amount','free_trial') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'percentage',
  `discount_value` double NOT NULL,
  `duration` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'once',
  `duration_in_months` int(11) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP,
  `enable` tinyint(1) DEFAULT '1',
  `require_apps_installed` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `max_redemptions` int(11) DEFAULT '0',
  `coupon_type` enum('subscription','transaction_fee','balance_topup') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'subscription',
  `title` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `limit_per_shop` int(11) DEFAULT NULL,
  `only_none_pay` tinyint(1) DEFAULT NULL,
  `is_annual` tinyint(1) DEFAULT NULL,
  `from_created_date` datetime DEFAULT NULL,
  `to_created_date` datetime DEFAULT NULL,
  `is_all_countries` tinyint(1) NOT NULL DEFAULT '1',
  `configured_countries` longtext COLLATE utf8mb4_unicode_ci,
  `package_ids` text COLLATE utf8mb4_unicode_ci,
  `note` text COLLATE utf8mb4_unicode_ci,
  `created_by` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `force_charge` tinyint(4) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `code_uniq` (`code`),
  KEY `index3` (`enable`)
) ENGINE=InnoDB AUTO_INCREMENT=234 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_billing_migration`
--

DROP TABLE IF EXISTS `sb_billing_migration`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_billing_migration` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `subscription_id` varchar(45) DEFAULT NULL,
  `invoice_id` varchar(45) DEFAULT NULL,
  `created_at` varchar(45) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_billing_migration_shop_id_subscription_id_invoice_id_uindex` (`shop_id`,`subscription_id`,`invoice_id`),
  KEY `sb_billing_migration_idx_shop_id_subscription_id` (`shop_id`,`subscription_id`),
  KEY `sb_billing_migration_idx_shop_id_invoice_id` (`shop_id`,`invoice_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4873 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_cashback_group`
--

DROP TABLE IF EXISTS `sb_cashback_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_cashback_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `type` varchar(100) NOT NULL,
  `is_active` tinyint(1) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_cashback_rule`
--

DROP TABLE IF EXISTS `sb_cashback_rule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_cashback_rule` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cashback_group_id` int(11) DEFAULT NULL,
  `name` varchar(255) NOT NULL,
  `rule_type` varchar(100) NOT NULL,
  `value_from` double DEFAULT NULL,
  `value_to` double DEFAULT NULL,
  `rate_map` text NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `pbase_product_group_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_cashback_rule_cashback_group_id_idx` (`cashback_group_id`),
  KEY `sb_cashback_rule_pbase_product_group_id_fk` (`pbase_product_group_id`),
  CONSTRAINT `customize_name` FOREIGN KEY (`cashback_group_id`) REFERENCES `sb_cashback_group` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_cashback_rule_pbase_product_group_id_fk` FOREIGN KEY (`pbase_product_group_id`) REFERENCES `pbase_product_group` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_charge_back`
--

DROP TABLE IF EXISTS `sb_charge_back`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_charge_back` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `reason` varchar(255) COLLATE utf8mb4_bin NOT NULL,
  `amount` double DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `order_id` bigint(20) unsigned NOT NULL,
  `shop_id` int(11) NOT NULL,
  `is_draft` tinyint(1) DEFAULT NULL,
  `billing_address` mediumtext COLLATE utf8mb4_bin,
  `customer_name` mediumtext COLLATE utf8mb4_bin,
  `customer_email_address` mediumtext COLLATE utf8mb4_bin,
  `customer_purchase_ip` mediumtext COLLATE utf8mb4_bin,
  `customer_signature` mediumtext COLLATE utf8mb4_bin,
  `customer_communication` mediumtext COLLATE utf8mb4_bin,
  `receipt` mediumtext COLLATE utf8mb4_bin,
  `product_description` mediumtext COLLATE utf8mb4_bin,
  `refund_policy` mediumtext COLLATE utf8mb4_bin,
  `refund_policy_disclosure` mediumtext COLLATE utf8mb4_bin,
  `refund_refusal_explanation` mediumtext COLLATE utf8mb4_bin,
  `duplicate_charge_id` mediumtext COLLATE utf8mb4_bin,
  `duplicate_charge_explanation` mediumtext COLLATE utf8mb4_bin,
  `duplicate_charge_documentation` mediumtext COLLATE utf8mb4_bin,
  `shipping_documentation` mediumtext COLLATE utf8mb4_bin,
  `shipping_address` mediumtext COLLATE utf8mb4_bin,
  `shipping_date` datetime DEFAULT NULL,
  `shipping_carrier` mediumtext COLLATE utf8mb4_bin,
  `shipping_tracking_number` mediumtext COLLATE utf8mb4_bin,
  `access_activity_log` mediumtext COLLATE utf8mb4_bin,
  `uncategorized_file` mediumtext COLLATE utf8mb4_bin,
  `uncategorized_text` mediumtext COLLATE utf8mb4_bin,
  `cancellation_policy` mediumtext COLLATE utf8mb4_bin,
  `cancellation_policy_disclosure` mediumtext COLLATE utf8mb4_bin,
  `cancellation_rebuttal` mediumtext COLLATE utf8mb4_bin,
  `is_submitted` tinyint(1) DEFAULT NULL,
  `dispute_id` varchar(255) COLLATE utf8mb4_bin NOT NULL,
  `gateway` varchar(255) COLLATE utf8mb4_bin NOT NULL,
  `fee` double DEFAULT NULL,
  `connect_id` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_charge_back_id_uindex` (`id`),
  UNIQUE KEY `sb_charge_back_sb_order_id_fk` (`order_id`),
  KEY `sb_charge_back_shops_id_fk` (`shop_id`),
  CONSTRAINT `sb_charge_back_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=1697 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_clone_resource_mapping`
--

DROP TABLE IF EXISTS `sb_clone_resource_mapping`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_clone_resource_mapping` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `src_shop_id` bigint(20) DEFAULT NULL,
  `src_file_id` bigint(20) DEFAULT NULL,
  `dest_shop_id` bigint(20) DEFAULT NULL,
  `dest_file_id` bigint(20) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `src_path` varchar(255) DEFAULT NULL,
  `dest_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=897 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_collect`
--

DROP TABLE IF EXISTS `sb_collect`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_collect` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `collection_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `position` double DEFAULT NULL,
  `sort_value` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `featured` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_shop_id_collection_id_product_id` (`shop_id`,`collection_id`,`product_id`),
  KEY `collection_id` (`collection_id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `sb_collect_ibfk_1` FOREIGN KEY (`collection_id`) REFERENCES `sb_custom_collection` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `sb_collect_ibfk_2` FOREIGN KEY (`product_id`) REFERENCES `sb_product` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=10979251 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_color`
--

DROP TABLE IF EXISTS `sb_color`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_color` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(50) DEFAULT NULL,
  `code` varchar(20) DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_color_name_idx` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=443 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_contact_us`
--

DROP TABLE IF EXISTS `sb_contact_us`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_contact_us` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  `email` varchar(255) NOT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `message` text,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_contact_us_shops_id_fk` (`shop_id`),
  CONSTRAINT `sb_contact_us_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=58 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_coupon_logs`
--

DROP TABLE IF EXISTS `sb_coupon_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_coupon_logs` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `coupon_code` varchar(255) DEFAULT NULL,
  `package_type` varchar(255) DEFAULT NULL,
  `package_name` varchar(255) DEFAULT NULL,
  `package_price` double DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=703 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_crs_pod_campaign`
--

DROP TABLE IF EXISTS `sb_crs_pod_campaign`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_crs_pod_campaign` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `enable` tinyint(1) NOT NULL DEFAULT '1',
  `store_type` varchar(255) NOT NULL DEFAULT '',
  `payment_status` text NOT NULL,
  `after_day_was_created` int(4) NOT NULL DEFAULT '0',
  `time_clicked_to_hide` int(4) DEFAULT NULL,
  `gift_amount` float DEFAULT NULL,
  `content_in_dashboard` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `content_in_pb_sign_up` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `content_in_top_bar` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `end_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_custom_collection`
--

DROP TABLE IF EXISTS `sb_custom_collection`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_custom_collection` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `handle` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
  `image` json DEFAULT NULL,
  `body_html` longtext,
  `metafields` longtext,
  `published` tinyint(1) NOT NULL DEFAULT '0',
  `published_at` datetime DEFAULT NULL,
  `published_scope` varchar(45) NOT NULL DEFAULT 'global',
  `sort_order` varchar(45) DEFAULT 'manual',
  `template_suffix` varchar(45) DEFAULT 'custom',
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `type` varchar(45) NOT NULL DEFAULT '',
  `disjunctive` tinyint(1) unsigned DEFAULT NULL,
  `rules` longtext,
  `products_manually_sorted_count` int(11) DEFAULT NULL,
  `processed_at` datetime DEFAULT NULL,
  `collection_availability` int(11) DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `handle_UNIQUE` (`handle`,`shop_id`),
  UNIQUE KEY `sb_custom_collection_shop_id_IDX` (`shop_id`,`handle`) USING BTREE,
  KEY `shop_id` (`shop_id`)
) ENGINE=InnoDB AUTO_INCREMENT=86733775900 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`scn`@`%`*/ /*!50003 TRIGGER generate_unique_handle_on_create_collection_trigger BEFORE INSERT ON sb_custom_collection
FOR each ROW
BEGIN
   SET NEW.`handle` = GetUniqueCollectionHandle(NEW.`handle`,NEW.`shop_id`);
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`scn`@`%`*/ /*!50003 TRIGGER generate_unique_handle_on_update_collection_trigger 
BEFORE UPDATE ON sb_custom_collection
FOR EACH ROW 
BEGIN
    IF OLD.`handle` <> NEW.`handle` THEN
           SET NEW.`handle` = GetUniqueCollectionHandle(NEW.`handle`,NEW.`shop_id`);
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `sb_custom_script`
--

DROP TABLE IF EXISTS `sb_custom_script`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_custom_script` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `type` tinyint(4) DEFAULT NULL,
  `position` tinyint(4) DEFAULT NULL,
  `enable` tinyint(4) DEFAULT '1',
  `image` text,
  `title` text,
  `description` text,
  `content` longtext,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_customer_conversation`
--

DROP TABLE IF EXISTS `sb_customer_conversation`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_customer_conversation` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `conversation_type` varchar(255) NOT NULL,
  `conversation_with` varchar(255) NOT NULL,
  `is_opt_out` tinyint(1) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `shop_id_unique_conversation` (`shop_id`,`conversation_type`,`conversation_with`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_customer_token`
--

DROP TABLE IF EXISTS `sb_customer_token`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_customer_token` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customer_id` bigint(20) NOT NULL,
  `token` varchar(100) NOT NULL,
  `refresh_token` varchar(100) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `expired_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `customer_id_index` (`customer_id`),
  KEY `token_index` (`token`)
) ENGINE=InnoDB AUTO_INCREMENT=9082 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_dmca`
--

DROP TABLE IF EXISTS `sb_dmca`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_dmca` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `company` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `address` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `copyright_owner` tinyint(4) DEFAULT NULL COMMENT '0 - I am the copyright owner\n1 - I am an authorized representative of the copyright owner',
  `infringing_links` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `material_description` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `work_links` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `work_description` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `evidence` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `statement` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '1 - I have a good faith belief that use of the material in the manner complained of is authorized by the copyright owner, its agent, or the law.\n2 - I swear, under penalty of perjury, that the information in the notification is accurate, and that I am the copyright owner or am authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.\n3 - I acknowledge that a copy of this infringement notice, including any contact information provided above, may be provided to the person that posted the content being reported.',
  `electronic_signature` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_source` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `note` text COLLATE utf8mb4_unicode_ci,
  `process_status` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `product_status` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_dmca_shops_id_fk` (`shop_id`),
  KEY `sb_dmca_user_id_index` (`user_id`),
  KEY `sb_dmca_product_status_index` (`product_status`),
  CONSTRAINT `sb_dmca_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4067 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_dmca_product`
--

DROP TABLE IF EXISTS `sb_dmca_product`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_dmca_product` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `dmca_report_id` bigint(20) NOT NULL,
  `shop_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `storefront_link` text NOT NULL,
  `admin_link` text NOT NULL,
  `status` varchar(100) DEFAULT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `sb_dmca_product_dmca_id_index` (`dmca_report_id`)
) ENGINE=InnoDB AUTO_INCREMENT=88 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_domains`
--

DROP TABLE IF EXISTS `sb_domains`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_domains` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'Globally unique identifier.',
  `host` varchar(255) NOT NULL COMMENT 'The host name of the domain (eg: example.com).',
  `ssl_enabled` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'Whether SSL is enabled or not.',
  `url` varchar(255) DEFAULT NULL COMMENT 'The URL of the domain (eg: https://example.com). The URL of the domain (eg: https://example.com).',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_email_log`
--

DROP TABLE IF EXISTS `sb_email_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_email_log` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `type` tinyint(4) NOT NULL,
  `status` tinyint(4) NOT NULL,
  `ref_id` bigint(20) unsigned DEFAULT NULL,
  `name` varchar(100) NOT NULL,
  `email` varchar(200) NOT NULL,
  `token` varchar(50) NOT NULL,
  `data` text NOT NULL,
  `schedule_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_source` varchar(255) NOT NULL,
  `order_id` bigint(20) DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `sb_email_log_shops_id_fk` (`shop_id`),
  KEY `sb_email_log_schedule_at_status_idx` (`schedule_at`,`status`),
  KEY `sb_email_log_email_ref_id_status_idx` (`email`,`ref_id`,`status`),
  CONSTRAINT `sb_email_log_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=158 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_email_schedule`
--

DROP TABLE IF EXISTS `sb_email_schedule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_email_schedule` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `ref_id` bigint(20) unsigned NOT NULL,
  `notification_name` varchar(255) NOT NULL,
  `additional_params` longtext,
  `email` varchar(255) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `schedule_send_at` datetime NOT NULL,
  `status` varchar(45) NOT NULL,
  `invalid_reason` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id_ref_id_index` (`shop_id`,`ref_id`) USING BTREE,
  KEY `status_index` (`status`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=194324 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_entity_group_mappings`
--

DROP TABLE IF EXISTS `sb_entity_group_mappings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_entity_group_mappings` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `ref_id` bigint(20) NOT NULL,
  `ref_type` varchar(100) NOT NULL,
  `group_id` bigint(20) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_entity_groups`
--

DROP TABLE IF EXISTS `sb_entity_groups`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_entity_groups` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `target` varchar(255) NOT NULL,
  `non_fraud_order_hold_in_hour` int(11) DEFAULT '0',
  `fraud_order_hold_in_hour` int(11) DEFAULT '0',
  `enable` tinyint(1) DEFAULT '0',
  `created_at` datetime DEFAULT NULL,
  `created_by` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_error_logs`
--

DROP TABLE IF EXISTS `sb_error_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_error_logs` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) DEFAULT NULL,
  `type` varchar(100) NOT NULL,
  `trigger_source` varchar(100) NOT NULL,
  `payload` longtext,
  `error_details` text,
  `status` varchar(100) NOT NULL DEFAULT 'not_handled',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='Log system errors';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_events`
--

DROP TABLE IF EXISTS `sb_events`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_events` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `product_id` int(11) DEFAULT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `type` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=36448 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_faq`
--

DROP TABLE IF EXISTS `sb_faq`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_faq` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `content` longtext,
  `type` int(11) DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_feature_switch`
--

DROP TABLE IF EXISTS `sb_feature_switch`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_feature_switch` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `test_user_ids` text COLLATE utf8_unicode_ci,
  `enable` tinyint(1) NOT NULL DEFAULT '1',
  `is_approved` tinyint(1) NOT NULL DEFAULT '0',
  `storefront` tinyint(1) NOT NULL DEFAULT '0',
  `dashboard` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL,
  `random_percentage` int(3) DEFAULT '0',
  `disable_users` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `user_in` int(11) NOT NULL DEFAULT '0',
  `user_out` int(11) NOT NULL DEFAULT '0',
  `created_by` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `note` text COLLATE utf8_unicode_ci,
  `responsible_team` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `approved_at` datetime DEFAULT NULL,
  `approved_by` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `bkABTestEventUnique` (`name`),
  KEY `updatedAtIndex` (`updated_at`)
) ENGINE=InnoDB AUTO_INCREMENT=73545 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_feature_switch_logs`
--

DROP TABLE IF EXISTS `sb_feature_switch_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_feature_switch_logs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) DEFAULT NULL,
  `feature_switch_id` int(11) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `is_tested` tinyint(1) NOT NULL DEFAULT '0',
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_id_fs_id_unique` (`user_id`,`feature_switch_id`),
  KEY `user_id` (`user_id`),
  KEY `feature_switch_id` (`feature_switch_id`),
  CONSTRAINT `sb_feature_switch_logs_ibfk_1` FOREIGN KEY (`feature_switch_id`) REFERENCES `sb_feature_switch` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_feature_switch_logs_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_feature_switch_logs_ibfk_3` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=2054541 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_feed_data`
--

DROP TABLE IF EXISTS `sb_feed_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_feed_data` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `variant_id` bigint(20) NOT NULL,
  `event` int(11) NOT NULL,
  `metadata` text,
  `platform` varchar(45) NOT NULL,
  `priority` int(11) NOT NULL DEFAULT '2',
  `status` varchar(45) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `feed_data_changed` tinyint(1) DEFAULT NULL,
  `availability` varchar(10) DEFAULT NULL,
  `age_group` varchar(20) DEFAULT NULL,
  `additional_image_link` text,
  `brand` varchar(100) DEFAULT NULL,
  `feed_condition` text,
  `color` varchar(20) DEFAULT NULL,
  `custom_label_0` varchar(100) DEFAULT NULL,
  `custom_label_1` varchar(100) DEFAULT NULL,
  `custom_label_2` varchar(100) DEFAULT NULL,
  `custom_label_3` varchar(100) DEFAULT NULL,
  `custom_label_4` varchar(100) DEFAULT NULL,
  `description` text,
  `gender` varchar(20) DEFAULT NULL,
  `google_product_category` varchar(55) DEFAULT NULL,
  `material` varchar(55) DEFAULT NULL,
  `pattern` varchar(55) DEFAULT NULL,
  `price` double DEFAULT NULL,
  `product_type` varchar(55) DEFAULT NULL,
  `size` varchar(10) DEFAULT NULL,
  `title` text,
  `ref_id` varchar(55) DEFAULT NULL,
  `currency` varchar(20) DEFAULT NULL,
  `sale_price` varchar(55) DEFAULT NULL,
  `shipping_weight_unit` varchar(10) DEFAULT NULL,
  `shipping_weight_value` double DEFAULT NULL,
  `ads_label` varchar(55) DEFAULT NULL,
  `ads_grouping` varchar(55) DEFAULT NULL,
  `shipping_label` varchar(55) DEFAULT NULL,
  `product_identifier` varchar(55) DEFAULT NULL,
  `size_system` varchar(55) DEFAULT NULL,
  `size_type` varchar(55) DEFAULT NULL,
  `unit_pricing_measure` varchar(55) DEFAULT NULL,
  `unit_pricing_base_measure` varchar(55) DEFAULT NULL,
  `pricing_measure` varchar(55) DEFAULT NULL,
  `pricing_base_measure` varchar(55) DEFAULT NULL,
  `vendor` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_product_feeds_data_shop_id_variant_id_platform_uindex` (`shop_id`,`variant_id`,`platform`),
  KEY `sb_product_feeds_data_status_index` (`status`),
  KEY `sb_product_feeds_data_event_index` (`event`),
  KEY `sb_feed_data_ref_id_idx` (`ref_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5120767 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_feed_status`
--

DROP TABLE IF EXISTS `sb_feed_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_feed_status` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `variant_id` bigint(20) NOT NULL,
  `status` varchar(45) NOT NULL,
  `platform` varchar(45) NOT NULL,
  `error` text,
  `synced_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `expired_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_feed_status_shop_id_variant_id_platform_uindex` (`shop_id`,`variant_id`,`platform`),
  KEY `sb_feed_status_product_id_idx` (`product_id`),
  KEY `sb_feed_status_variant_id_idx` (`variant_id`),
  KEY `sb_feed_status_status_synced_at_index` (`status`,`synced_at`),
  KEY `sb_feed_status_status_expired_at_index` (`status`,`expired_at`)
) ENGINE=InnoDB AUTO_INCREMENT=53630994 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_feed_transform`
--

DROP TABLE IF EXISTS `sb_feed_transform`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_feed_transform` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `transform_type` varchar(255) NOT NULL,
  `enable` tinyint(4) NOT NULL DEFAULT '0',
  `transform_from` varchar(255) DEFAULT NULL,
  `transform_to` varchar(255) DEFAULT NULL,
  `metadata` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_feed_transform_transform_type_transform_from_uindex` (`transform_type`,`transform_from`),
  KEY `sb_feed_transform_enable_index` (`enable`),
  KEY `sb_feed_transform_transform_type_index` (`transform_type`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_file`
--

DROP TABLE IF EXISTS `sb_file`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_file` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) unsigned NOT NULL,
  `name` text CHARACTER SET utf8 NOT NULL,
  `path` text,
  `public_url` text,
  `content_type` varchar(255) DEFAULT NULL,
  `size` int(11) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `width` smallint(6) DEFAULT NULL,
  `height` smallint(6) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=22200 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_fulfillment_services`
--

DROP TABLE IF EXISTS `sb_fulfillment_services`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_fulfillment_services` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `service_name` varchar(255) NOT NULL,
  `callback_url` varchar(255) DEFAULT NULL,
  `format` varchar(45) DEFAULT NULL,
  `handle` varchar(45) NOT NULL,
  `inventory_management` tinyint(1) NOT NULL,
  `requires_shipping_method` tinyint(1) NOT NULL,
  `tracking_support` tinyint(1) NOT NULL,
  `email` varchar(45) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `last_time_fetch_inventory` datetime DEFAULT NULL,
  `last_time_fetch_tracking` datetime DEFAULT NULL,
  `manual` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `third_app_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `shop_id_handle` (`shop_id`,`handle`),
  KEY `fk_sb_fulfillment_services_shop_id_idx` (`shop_id`),
  KEY `shop_id_manual` (`shop_id`,`manual`),
  KEY `tracking_support_last_time_fetch_tracking` (`tracking_support`,`last_time_fetch_tracking`),
  KEY `inventory_management_last_time_fetch_inventory` (`inventory_management`,`last_time_fetch_inventory`),
  KEY `third_app_id` (`third_app_id`),
  CONSTRAINT `sb_fulfillment_services_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `sb_fulfillment_services_ibfk_2` FOREIGN KEY (`third_app_id`) REFERENCES `third_app` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=523979188 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_google_categories`
--

DROP TABLE IF EXISTS `sb_google_categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_google_categories` (
  `id` bigint(20) NOT NULL,
  `value` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_google_categories_id_uindex` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_handle_counting`
--

DROP TABLE IF EXISTS `sb_handle_counting`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_handle_counting` (
  `handle` varchar(255) NOT NULL,
  `counting` int(11) NOT NULL,
  `shop_id` int(11) NOT NULL,
  PRIMARY KEY (`handle`,`counting`,`shop_id`),
  KEY `shop_id` (`shop_id`),
  CONSTRAINT `sb_handle_counting_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_handle_index`
--

DROP TABLE IF EXISTS `sb_handle_index`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_handle_index` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) DEFAULT NULL,
  `entity_type` enum('product','collection') NOT NULL,
  `handle` varchar(255) NOT NULL,
  `ai_value` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_type_handle_index` (`shop_id`,`entity_type`,`handle`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=56932 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_here_maps_account`
--

DROP TABLE IF EXISTS `sb_here_maps_account`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_here_maps_account` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(255) NOT NULL,
  `password` varchar(255) NOT NULL,
  `app_id` varchar(255) NOT NULL,
  `api_key` varchar(255) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_import_image_request`
--

DROP TABLE IF EXISTS `sb_import_image_request`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_import_image_request` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `image_id` bigint(20) NOT NULL,
  `shop_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `src` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `width` int(11) NOT NULL,
  `height` int(11) NOT NULL,
  `updated_source` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `position` int(11) DEFAULT NULL,
  `product_variant_ids` text COLLATE utf8mb4_unicode_ci,
  `is_default_image` tinyint(1) NOT NULL,
  `process_id` bigint(20) NOT NULL,
  `is_preset_data` tinyint(1) NOT NULL,
  `total_img` int(11) NOT NULL,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_import_process`
--

DROP TABLE IF EXISTS `sb_import_process`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_import_process` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `status` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `total_record` int(11) DEFAULT '0',
  `inserted_record` int(11) DEFAULT '0',
  `skipped_record` int(11) DEFAULT '0',
  `error_record` int(11) DEFAULT '0',
  `current_index` int(11) DEFAULT '0',
  `logs` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `type` varchar(100) DEFAULT NULL,
  `metadata` text,
  `since_id` bigint(20) DEFAULT NULL,
  `ref_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`) USING BTREE,
  KEY `status` (`status`) USING BTREE,
  CONSTRAINT `sb_import_process_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=6144 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_in_app_noti`
--

DROP TABLE IF EXISTS `sb_in_app_noti`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_in_app_noti` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `channel` varchar(50) CHARACTER SET utf8 NOT NULL DEFAULT '',
  `package` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `region` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `link` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `FK_channel` (`channel`)
) ENGINE=InnoDB AUTO_INCREMENT=64 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_login_history`
--

DROP TABLE IF EXISTS `sb_login_history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_login_history` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `login_at` datetime DEFAULT NULL,
  `browser` varchar(255) DEFAULT NULL,
  `ip_address` varchar(255) DEFAULT NULL,
  `location` varchar(255) DEFAULT NULL,
  `isp` varchar(255) DEFAULT NULL,
  `action` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `sb_login_history_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=704363 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_logo_resource`
--

DROP TABLE IF EXISTS `sb_logo_resource`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_logo_resource` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `enable` tinyint(4) DEFAULT NULL,
  `type` tinyint(4) DEFAULT NULL COMMENT '1-font, 2-icon',
  `config` text,
  `path` text,
  `style` varchar(255) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_logo_resource_type_idx` (`type`),
  KEY `sb_logo_resource_enable_idx` (`enable`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_logo_style`
--

DROP TABLE IF EXISTS `sb_logo_style`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_logo_style` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `enable` tinyint(1) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `data` text,
  `style_groups` text,
  `fallback` tinyint(1) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_logo_style_shop_category`
--

DROP TABLE IF EXISTS `sb_logo_style_shop_category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_logo_style_shop_category` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `logo_style_id` bigint(20) unsigned DEFAULT NULL,
  `category_id` bigint(20) unsigned DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `logo_style_id` (`logo_style_id`),
  CONSTRAINT `sb_logo_style_shop_category_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `sb_template_shop_category` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_logo_style_shop_category_ibfk_2` FOREIGN KEY (`logo_style_id`) REFERENCES `sb_logo_style` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_menu_manage`
--

DROP TABLE IF EXISTS `sb_menu_manage`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_menu_manage` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `menu` text,
  `link` text,
  `country` text,
  `parent` text,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `active` tinyint(1) DEFAULT '1',
  `mobile` tinyint(1) DEFAULT '1',
  `blank` tinyint(1) DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `menu` (`menu`(255))
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_metafield`
--

DROP TABLE IF EXISTS `sb_metafield`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_metafield` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `description` longtext,
  `key_string` varchar(45) NOT NULL,
  `namespace` varchar(45) NOT NULL,
  `owner_id` bigint(20) NOT NULL,
  `owner_resource` varchar(45) DEFAULT NULL,
  `value_string` text NOT NULL,
  `value_type` varchar(45) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id_owner_resource_owner_id` (`shop_id`,`owner_resource`,`owner_id`) USING BTREE,
  CONSTRAINT `fk_sb_metafield_shop_id` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=3294 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_notification_template`
--

DROP TABLE IF EXISTS `sb_notification_template`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_notification_template` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) unsigned NOT NULL,
  `category` varchar(255) NOT NULL,
  `type` varchar(45) NOT NULL,
  `subject` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `channel` varchar(45) NOT NULL DEFAULT 'email',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `params` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=42654 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_nps_survey`
--

DROP TABLE IF EXISTS `sb_nps_survey`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_nps_survey` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nps_id` int(11) NOT NULL,
  `country_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `country_code` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `index_id` int(11) DEFAULT NULL,
  `response_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `answer` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `visitor_uuid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `survey_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_nps_survey_index` (`nps_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1846599 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_onboarding`
--

DROP TABLE IF EXISTS `sb_onboarding`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_onboarding` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `country` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `store_class` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `package` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `store_type` varchar(500) COLLATE utf8_unicode_ci DEFAULT NULL,
  `priority` int(1) NOT NULL DEFAULT '1',
  `content` text COLLATE utf8_unicode_ci,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '0',
  `is_default` tinyint(1) DEFAULT NULL,
  `segment` text COLLATE utf8_unicode_ci,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_onboarding_question`
--

DROP TABLE IF EXISTS `sb_onboarding_question`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_onboarding_question` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(255) DEFAULT NULL,
  `country` varchar(500) DEFAULT NULL,
  `store_type` varchar(500) DEFAULT NULL,
  `content` text,
  `is_default` tinyint(1) NOT NULL DEFAULT '0',
  `status` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_order_fraud`
--

DROP TABLE IF EXISTS `sb_order_fraud`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_order_fraud` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) DEFAULT NULL,
  `order_id` bigint(20) DEFAULT NULL,
  `rule` varchar(255) DEFAULT NULL,
  `level` varchar(10) DEFAULT NULL,
  `description` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_order_fraud_shop_id_order_id_index` (`shop_id`,`order_id`),
  KEY `order_id_index` (`order_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=422442 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_order_timeline`
--

DROP TABLE IF EXISTS `sb_order_timeline`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_order_timeline` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `body` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `attachments` longtext,
  `type` varchar(45) NOT NULL DEFAULT 'action',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `order_id` bigint(20) unsigned NOT NULL,
  `ref_id` varchar(50) DEFAULT NULL,
  `event_type` varchar(255) DEFAULT NULL,
  `description_data` longtext,
  PRIMARY KEY (`id`),
  KEY `fk_sb_order_timeline_order_idx` (`order_id`),
  KEY `shop_id` (`shop_id`),
  KEY `shop_id_order_id` (`shop_id`,`order_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1170373 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_os_menu_items`
--

DROP TABLE IF EXISTS `sb_os_menu_items`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_os_menu_items` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `menu_id` int(11) NOT NULL,
  `parent_id` int(11) DEFAULT NULL,
  `position` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `type` varchar(25) NOT NULL,
  `type_options` longtext,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_os_menu_items_menu_id_IDX` (`menu_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=166393 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_os_menus`
--

DROP TABLE IF EXISTS `sb_os_menus`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_os_menus` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `handle` varchar(255) DEFAULT NULL,
  `is_default` int(1) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_os_menus_shop_id_IDX` (`shop_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=60159 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_page`
--

DROP TABLE IF EXISTS `sb_page`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_page` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `title` varchar(255) CHARACTER SET utf8 NOT NULL,
  `handle` varchar(255) CHARACTER SET utf8 NOT NULL,
  `body_html` text CHARACTER SET utf8mb4,
  `template` varchar(256) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `search_engine_title` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `search_engine_meta_description` varchar(320) CHARACTER SET utf8 DEFAULT NULL,
  `publish` tinyint(1) DEFAULT NULL,
  `is_scheduling` tinyint(1) DEFAULT NULL,
  `schedule_publish_date` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `published_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `index2` (`shop_id`)
) ENGINE=InnoDB AUTO_INCREMENT=46965 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_product`
--

DROP TABLE IF EXISTS `sb_product`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_product` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `handle` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `title` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `tags` mediumtext COLLATE utf8mb4_unicode_ci,
  `body_html` text COLLATE utf8mb4_unicode_ci,
  `product_type` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `default_image_id` bigint(20) DEFAULT NULL,
  `published_at` datetime DEFAULT NULL,
  `published_scope` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `template_suffix` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `metafields_global_title_tag` mediumtext COLLATE utf8mb4_unicode_ci,
  `metafields_global_description_tag` mediumtext COLLATE utf8mb4_unicode_ci,
  `vendor` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `published` tinyint(1) NOT NULL DEFAULT '1',
  `updated_source` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `seo_id` bigint(20) DEFAULT NULL,
  `display_options` text COLLATE utf8mb4_unicode_ci,
  `product_source` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `product_availability` int(11) DEFAULT '1',
  `custom_options` mediumtext COLLATE utf8mb4_unicode_ci,
  `sync_cache_time` int(11) DEFAULT NULL,
  `can_preview` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `shop_id_handle` (`shop_id`,`handle`) USING BTREE,
  KEY `default_image_id` (`default_image_id`),
  KEY `shop_id` (`shop_id`) USING BTREE,
  CONSTRAINT `sb_product_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=1000000004806515 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`scn`@`%`*/ /*!50003 TRIGGER generate_unique_handle_on_update_product_trigger 
BEFORE UPDATE ON sb_product
FOR EACH ROW 
BEGIN
	IF OLD.`handle` <> NEW.`handle` THEN
   	    SET NEW.`handle` = GetUniqueProductHandle(NEW.`handle`,NEW.`shop_id`);
	END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `sb_product_feed_history`
--

DROP TABLE IF EXISTS `sb_product_feed_history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_product_feed_history` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `total` int(11) NOT NULL,
  `images_hash` text NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_product_feed_history_shop_id_idx` (`shop_id`),
  CONSTRAINT `fk_sb_product_feed_history_shops` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_product_feeds`
--

DROP TABLE IF EXISTS `sb_product_feeds`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_product_feeds` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `handle` varchar(50) NOT NULL,
  `export_mode` varchar(50) DEFAULT NULL,
  `add_variant_option_to_title` tinyint(1) DEFAULT NULL,
  `google_product_category` int(11) DEFAULT NULL,
  `link` varchar(255) DEFAULT NULL,
  `klaviyo_feed` text,
  `shop_id` bigint(20) NOT NULL,
  `total_product` int(11) DEFAULT NULL,
  `collections_ids` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `status` varchar(11) DEFAULT NULL,
  `is_s3_file` tinyint(1) DEFAULT NULL,
  `total_item` int(11) DEFAULT NULL,
  `gender` varchar(255) DEFAULT NULL,
  `age_group` varchar(255) DEFAULT NULL,
  `default_color` varchar(255) DEFAULT NULL,
  `default_size` varchar(255) DEFAULT NULL,
  `is_custom_products` tinyint(1) DEFAULT '0',
  `feed_type` varchar(25) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_product_feeds_shop_id_handle_uindex` (`shop_id`,`handle`),
  KEY `sb_product_feeds_handle_index` (`handle`),
  KEY `sb_product_feeds_name_index` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=1916 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_product_image`
--

DROP TABLE IF EXISTS `sb_product_image`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_product_image` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `position` int(11) DEFAULT NULL,
  `variant_ids` mediumtext COLLATE utf8mb4_unicode_ci,
  `src` mediumtext COLLATE utf8mb4_unicode_ci,
  `width` int(11) DEFAULT NULL,
  `height` int(11) DEFAULT NULL,
  `alt` mediumtext COLLATE utf8mb4_unicode_ci,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `updated_source` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `alt_text` mediumtext COLLATE utf8mb4_unicode_ci,
  `watermarked` tinyint(1) DEFAULT NULL,
  `sync_cache_time` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `index2` (`shop_id`,`product_id`),
  KEY `fk_sb_product_image_1_idx` (`product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=269622721 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_product_mass_update`
--

DROP TABLE IF EXISTS `sb_product_mass_update`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_product_mass_update` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `filter` text NOT NULL,
  `variant_filter` text NOT NULL,
  `is_using_variant_filter` tinyint(1) DEFAULT NULL,
  `action` text NOT NULL,
  `updated_products` text,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `status_updated_at` datetime DEFAULT NULL,
  `status` varchar(255) NOT NULL,
  `updated_source` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_product_mass_update_shop_id_idx` (`shop_id`),
  CONSTRAINT `sb_product_mass_update_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4955 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_product_option`
--

DROP TABLE IF EXISTS `sb_product_option`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_product_option` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `option_set_id` bigint(20) NOT NULL,
  `value` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `position` int(11) DEFAULT '0',
  `sync_cache_time` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uni_option` (`shop_id`,`product_id`,`option_set_id`,`value`),
  KEY `index2` (`shop_id`),
  KEY `index3` (`product_id`,`shop_id`),
  KEY `index4` (`shop_id`,`product_id`,`option_set_id`),
  KEY `fk_sb_product_option_2_idx` (`option_set_id`),
  KEY `idx_shopId_optionSetId` (`shop_id`,`option_set_id`),
  CONSTRAINT `sb_product_option_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `sb_product` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_product_option_ibfk_2` FOREIGN KEY (`option_set_id`) REFERENCES `sb_product_option_set` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=10611181 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_product_option_set`
--

DROP TABLE IF EXISTS `sb_product_option_set`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_product_option_set` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `value` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `position` int(11) NOT NULL,
  `sync_cache_time` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `shop_id_product_id_value_idx` (`shop_id`,`product_id`,`value`),
  KEY `index2` (`shop_id`),
  KEY `index3` (`shop_id`,`product_id`),
  KEY `fk_sb_option_set_1_idx` (`product_id`),
  CONSTRAINT `_sb_product_option_set_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `sb_product` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=5718376 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_product_variant`
--

DROP TABLE IF EXISTS `sb_product_variant`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_product_variant` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `title` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `position` int(11) NOT NULL DEFAULT '0',
  `inventory_quantity` int(11) DEFAULT NULL,
  `price` double DEFAULT NULL,
  `compare_at_price` double DEFAULT NULL,
  `barcode` mediumtext COLLATE utf8mb4_unicode_ci,
  `inventory_management` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `inventory_policy` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `taxable` tinyint(1) DEFAULT NULL,
  `weight` double DEFAULT NULL,
  `weight_unit` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `metafields` mediumtext COLLATE utf8mb4_unicode_ci,
  `sku` mediumtext COLLATE utf8mb4_unicode_ci,
  `option1` bigint(20) DEFAULT NULL,
  `option2` bigint(20) DEFAULT NULL,
  `option3` bigint(20) DEFAULT NULL,
  `image_id` bigint(20) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `updated_source` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `requires_shipping` tinyint(1) DEFAULT NULL,
  `grams` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cost_per_item` double DEFAULT NULL,
  `fulfillment_service` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_default` tinyint(1) DEFAULT '0',
  `sync_cache_time` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`,`product_id`,`shop_id`),
  UNIQUE KEY `idx_option` (`option1`,`option2`,`option3`),
  KEY `index2` (`shop_id`,`product_id`),
  KEY `fk_sb_product_variant_1_idx` (`product_id`),
  KEY `shop_id_inventory_management` (`shop_id`,`inventory_management`),
  KEY `shop_id_service_idx` (`shop_id`,`fulfillment_service`),
  KEY `fulfillment_service_idx` (`fulfillment_service`),
  KEY `option1` (`option1`),
  KEY `option2` (`option2`),
  KEY `option3` (`option3`),
  KEY `options_index` (`option1`,`option2`,`option3`),
  CONSTRAINT `_fk_sb_product_variant_1` FOREIGN KEY (`product_id`) REFERENCES `sb_product` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT `_sb_product_variant_ibfk_10` FOREIGN KEY (`option2`) REFERENCES `sb_product_option` (`id`) ON DELETE SET NULL,
  CONSTRAINT `_sb_product_variant_ibfk_7` FOREIGN KEY (`option1`) REFERENCES `sb_product_option` (`id`) ON DELETE SET NULL,
  CONSTRAINT `_sb_product_variant_ibfk_9` FOREIGN KEY (`option3`) REFERENCES `sb_product_option` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=1000000011899250 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_refund`
--

DROP TABLE IF EXISTS `sb_refund`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_refund` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `order_id` bigint(20) unsigned DEFAULT NULL,
  `note` varchar(255) DEFAULT NULL,
  `order_adjustments` longtext,
  `refund_line_items` longtext,
  `user_id` int(11) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `processed_at` datetime NOT NULL,
  `restock` tinyint(1) NOT NULL,
  `third_app_id` int(11) DEFAULT NULL,
  `private_app_id` bigint(20) unsigned DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `_idx` (`user_id`),
  KEY `index3` (`shop_id`,`user_id`),
  KEY `sb_refund_order_fk_idx` (`order_id`),
  KEY `sb_refund_shops_fk_idx` (`shop_id`),
  KEY `third_app_id` (`third_app_id`),
  CONSTRAINT `sb_refund_ibfk_1` FOREIGN KEY (`third_app_id`) REFERENCES `third_app` (`id`),
  CONSTRAINT `sb_refund_shop_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `sb_refund_user_fk` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=25523 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_refund_transactions`
--

DROP TABLE IF EXISTS `sb_refund_transactions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_refund_transactions` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `transaction_id` bigint(20) unsigned NOT NULL,
  `refund_id` bigint(20) unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `transaction_id` (`transaction_id`),
  KEY `refund_id` (`refund_id`),
  CONSTRAINT `sb_refund_transactions_ibfk_2` FOREIGN KEY (`refund_id`) REFERENCES `sb_refund` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=25358 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_review`
--

DROP TABLE IF EXISTS `sb_review`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_review` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) unsigned NOT NULL,
  `shop_id` int(11) DEFAULT NULL,
  `product_id` bigint(20) DEFAULT NULL,
  `rating` tinyint(4) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL,
  `title` varchar(255) DEFAULT NULL,
  `content` varchar(1000) DEFAULT NULL,
  `status` tinyint(4) DEFAULT NULL,
  `is_read` tinyint(4) DEFAULT NULL,
  `is_starred` tinyint(4) DEFAULT NULL,
  `has_image` tinyint(4) DEFAULT NULL,
  `source` varchar(50) DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `tags` mediumtext,
  `availability` tinyint(4) DEFAULT '1',
  PRIMARY KEY (`id`),
  KEY `sb_review_shop_id_product_id_idx` (`shop_id`,`product_id`),
  KEY `sb_review_shop_id_product_id_parent_id_idx` (`shop_id`,`product_id`,`parent_id`),
  KEY `sb_review_shop_id_parent_id_idx` (`shop_id`,`parent_id`),
  KEY `sb_review_shop_id_product_id_rating_idx` (`shop_id`,`product_id`,`rating`),
  KEY `sb_review_shop_id_rating_idx` (`shop_id`,`rating`),
  KEY `sb_review_shop_id_product_id_status_idx` (`shop_id`,`product_id`,`status`),
  KEY `sb_review_shop_id_status_idx` (`shop_id`,`status`),
  KEY `sb_review_shop_id_product_id_is_read_idx` (`shop_id`,`product_id`,`is_read`),
  KEY `sb_review_shop_id_is_read_idx` (`shop_id`,`is_read`),
  KEY `sb_review_shop_id_product_id_is_starred_idx` (`shop_id`,`product_id`,`is_starred`),
  KEY `sb_review_shop_id_is_starred_idx` (`shop_id`,`is_starred`),
  KEY `sb_review_shop_id_product_id_has_image_idx` (`shop_id`,`product_id`,`has_image`),
  KEY `sb_review_shop_id_has_image_idx` (`shop_id`,`has_image`),
  KEY `sb_review_sb_product_id_fk` (`product_id`),
  CONSTRAINT `sb_review_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=305523 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_review_image`
--

DROP TABLE IF EXISTS `sb_review_image`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_review_image` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `review_id` bigint(20) unsigned NOT NULL,
  `shop_id` int(11) NOT NULL,
  `src` text NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_review_image_shops_id_fk` (`shop_id`),
  KEY `sb_review_image_sb_review_id_fk` (`review_id`),
  CONSTRAINT `sb_review_image_sb_review_id_fk` FOREIGN KEY (`review_id`) REFERENCES `sb_review` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_review_image_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=177469 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_review_product_group`
--

DROP TABLE IF EXISTS `sb_review_product_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_review_product_group` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  `type` tinyint(2) DEFAULT NULL COMMENT '1 - collection, 2 - tag, 3 - vendor''',
  `value` varchar(255) DEFAULT NULL,
  `active` tinyint(1) NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_review_product_group_shops_id_fk` (`shop_id`),
  CONSTRAINT `sb_review_product_group_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=14261 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_sale_notification`
--

DROP TABLE IF EXISTS `sb_sale_notification`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_sale_notification` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `product_id` bigint(20) NOT NULL,
  `customer_name` mediumtext COLLATE utf8mb4_unicode_ci,
  `customer_first_name` mediumtext COLLATE utf8mb4_unicode_ci,
  `customer_last_name` mediumtext COLLATE utf8mb4_unicode_ci,
  `customer_address` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `customer_city` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `customer_country` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `country_code` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `order_id` bigint(20) DEFAULT NULL,
  `order_created_at` datetime NOT NULL,
  `status` int(11) NOT NULL,
  `type` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_idx` (`shop_id`),
  KEY `order_id_idx` (`order_id`),
  KEY `product_id_idx` (`product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=124599 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_script_tag`
--

DROP TABLE IF EXISTS `sb_script_tag`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_script_tag` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `event` varchar(255) NOT NULL,
  `src` text NOT NULL,
  `display_scope` varchar(255) DEFAULT NULL,
  `shop_id` bigint(20) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `third_app_id` bigint(20) DEFAULT NULL,
  `private_app_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id_index` (`shop_id`)
) ENGINE=InnoDB AUTO_INCREMENT=39933 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_shop_category`
--

DROP TABLE IF EXISTS `sb_shop_category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_shop_category` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `template_category_id` int(11) DEFAULT NULL,
  `business_type` tinyint(4) DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_template_category_id_idx` (`template_category_id`),
  KEY `sb_business_type_idx` (`business_type`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_shop_clicked_crs_pod_campaign`
--

DROP TABLE IF EXISTS `sb_shop_clicked_crs_pod_campaign`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_shop_clicked_crs_pod_campaign` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `crs_pod_campaign_id` int(11) NOT NULL,
  `time_clicked_to_hide` int(4) DEFAULT '0',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_group_unique` (`shop_id`,`crs_pod_campaign_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_shop_theme`
--

DROP TABLE IF EXISTS `sb_shop_theme`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_shop_theme` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `theme_id` bigint(20) unsigned NOT NULL,
  `version_id` bigint(20) unsigned NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `revision` int(11) NOT NULL DEFAULT '1',
  `active` int(1) NOT NULL DEFAULT '1',
  `current_style` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `settings_schema` longtext COLLATE utf8mb4_unicode_ci,
  `settings_data` longtext COLLATE utf8mb4_unicode_ci,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `desktop_image` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `mobile_image` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `index2` (`shop_id`),
  KEY `index3` (`theme_id`),
  KEY `index4` (`version_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2301642 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_shopbase_payouts`
--

DROP TABLE IF EXISTS `sb_shopbase_payouts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_shopbase_payouts` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) DEFAULT NULL,
  `currency` varchar(5) DEFAULT NULL,
  `amount` double DEFAULT NULL,
  `description` longtext,
  `destination` varchar(255) DEFAULT NULL,
  `failure_code` varchar(255) DEFAULT NULL,
  `failure_balance_transaction` varchar(255) DEFAULT NULL,
  `failure_message` longtext,
  `source_type` varchar(50) DEFAULT NULL,
  `statement_descriptor` varchar(255) DEFAULT NULL,
  `status` varchar(50) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `type` varchar(50) DEFAULT NULL,
  `connect_id` varchar(255) DEFAULT NULL,
  `ref_id` varchar(255) DEFAULT NULL,
  `balance_transaction` varchar(255) DEFAULT NULL,
  `gateway` varchar(255) DEFAULT NULL,
  `arrival_date` datetime DEFAULT NULL,
  `bank_name` varchar(45) DEFAULT NULL,
  `last4` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `ref_id_gateway_unique` (`ref_id`,`gateway`),
  KEY `shop_id` (`shop_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2947 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_shopbase_transactions`
--

DROP TABLE IF EXISTS `sb_shopbase_transactions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_shopbase_transactions` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `type` varchar(255) DEFAULT NULL,
  `currency` varchar(5) DEFAULT NULL,
  `net` double DEFAULT NULL,
  `amount` double DEFAULT NULL,
  `fee` double DEFAULT '0',
  `description` varchar(255) DEFAULT NULL,
  `order_id` bigint(20) DEFAULT NULL,
  `order_name` varchar(255) DEFAULT NULL,
  `payout_date` datetime DEFAULT NULL,
  `payout_status` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `shop_id` bigint(20) DEFAULT NULL,
  `ref_id` varchar(255) DEFAULT NULL,
  `gateway` varchar(45) DEFAULT NULL,
  `source` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_shopbase_transactions_ref_id_unq` (`ref_id`),
  KEY `sb_shopbase_transactions_created_at_index` (`created_at`),
  KEY `sb_shopbase_transactions_provider_trans_id_index` (`ref_id`),
  KEY `sb_shopbase_transactions_source_idx` (`source`)
) ENGINE=InnoDB AUTO_INCREMENT=123419 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_shops_domains`
--

DROP TABLE IF EXISTS `sb_shops_domains`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_shops_domains` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `public_domain` varchar(255) NOT NULL,
  `shop_id` int(11) NOT NULL,
  `is_primary` tinyint(1) NOT NULL DEFAULT '0',
  `verify_status` enum('not_connected','verifying','verified','deleted','checking_scam','processing','not_scam','scam') NOT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `x_unique_public_domain` (`public_domain`),
  KEY `shop_domain_shop_idx` (`shop_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2948 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_shops_gmv`
--

DROP TABLE IF EXISTS `sb_shops_gmv`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_shops_gmv` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `daily_gmv` float DEFAULT '0',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `order_created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `index_id_shop_id` (`id`,`shop_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5508752 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_size_chart`
--

DROP TABLE IF EXISTS `sb_size_chart`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_size_chart` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `tag` varchar(255) DEFAULT NULL,
  `title` varchar(255) DEFAULT NULL,
  `style` text,
  `image_url` text,
  `description_html` text,
  `description_inc` text,
  `format_version` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=163 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_sms_log`
--

DROP TABLE IF EXISTS `sb_sms_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_sms_log` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) unsigned NOT NULL,
  `scheduled_id` bigint(20) unsigned NOT NULL,
  `sid` varchar(50) NOT NULL,
  `from_phone_number` varchar(100) NOT NULL,
  `to_phone_number` varchar(100) NOT NULL,
  `content` text NOT NULL,
  `status` varchar(10) NOT NULL,
  `error_code` varchar(10) DEFAULT NULL,
  `original_error_code` varchar(10) DEFAULT NULL,
  `is_resent` tinyint(1) DEFAULT '0',
  `parent_id` bigint(20) unsigned DEFAULT NULL,
  `sender_id` bigint(20) unsigned DEFAULT NULL,
  `country_code` varchar(10) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_shop_id_sid_unq` (`shop_id`,`sid`),
  KEY `sb_sid_idx` (`sid`)
) ENGINE=InnoDB AUTO_INCREMENT=209 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_sms_schedule`
--

DROP TABLE IF EXISTS `sb_sms_schedule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_sms_schedule` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `ref_id` bigint(20) unsigned NOT NULL,
  `notification_name` varchar(255) NOT NULL,
  `additional_params` longtext,
  `phone` varchar(100) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `schedule_send_at` datetime NOT NULL,
  `status` varchar(45) NOT NULL,
  `invalid_reason` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ref_id_index` (`ref_id`) USING BTREE,
  KEY `shop_id_phone_scheduled_send_at_index` (`shop_id`,`phone`,`schedule_send_at`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=8388 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_spay_configuration`
--

DROP TABLE IF EXISTS `sb_spay_configuration`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_spay_configuration` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `gateway` varchar(255) NOT NULL,
  `countries` longtext NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `gateway` (`gateway`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_spay_fee_details`
--

DROP TABLE IF EXISTS `sb_spay_fee_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_spay_fee_details` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `transaction_id` varchar(255) DEFAULT NULL,
  `amount` decimal(10,2) DEFAULT NULL,
  `application` varchar(255) DEFAULT NULL,
  `currency` varchar(10) DEFAULT NULL,
  `type` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_spay_fee_details_id_uindex` (`id`),
  UNIQUE KEY `sb_spay_fee_details_transaction_id_type_uindex` (`transaction_id`,`type`)
) ENGINE=InnoDB AUTO_INCREMENT=9101 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_spay_payouts`
--

DROP TABLE IF EXISTS `sb_spay_payouts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_spay_payouts` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `payout_id` varchar(255) DEFAULT NULL,
  `amount` double DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  `payout_date` datetime DEFAULT NULL,
  `currency` varchar(5) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `connected_account_id` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_spay_payouts_id_uindex` (`id`),
  UNIQUE KEY `sb_spay_payouts_payout_id_uindex` (`payout_id`)
) ENGINE=InnoDB AUTO_INCREMENT=112 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_spay_transactions`
--

DROP TABLE IF EXISTS `sb_spay_transactions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_spay_transactions` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `connected_account_id` varchar(255) DEFAULT NULL,
  `shop_id` bigint(20) DEFAULT NULL,
  `connected_account_country` varchar(10) DEFAULT NULL,
  `payment_id` varchar(255) DEFAULT NULL,
  `tran_date` datetime DEFAULT NULL,
  `amount` double DEFAULT NULL,
  `fee` double DEFAULT NULL,
  `net` double DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  `transaction_id` varchar(255) DEFAULT NULL,
  `currency` varchar(10) DEFAULT NULL,
  `fee_type` varchar(255) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `transaction_type` varchar(255) DEFAULT NULL,
  `payout_id` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_spay_transactions_id_uindex` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13467 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_spay_webhook_logs`
--

DROP TABLE IF EXISTS `sb_spay_webhook_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_spay_webhook_logs` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `ref_id` varchar(255) DEFAULT NULL,
  `provider` varchar(255) DEFAULT NULL,
  `account` varchar(255) DEFAULT NULL,
  `type` varchar(255) NOT NULL,
  `data` text NOT NULL,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_spay_webhook_logs_type_provider_idx` (`type`,`provider`),
  KEY `sb_spay_webhook_logs_account_idx` (`account`)
) ENGINE=InnoDB AUTO_INCREMENT=18794 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_staff_order_notification`
--

DROP TABLE IF EXISTS `sb_staff_order_notification`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_staff_order_notification` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `status` tinyint(1) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `mail` varchar(255) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `index2` (`shop_id`)
) ENGINE=InnoDB AUTO_INCREMENT=35101 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_staffs_products`
--

DROP TABLE IF EXISTS `sb_staffs_products`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_staffs_products` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `staff_user_id` int(11) NOT NULL,
  `product_id` bigint(20) NOT NULL,
  `role` varchar(100) NOT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_staffs_products_shop_id_product_id_role_uindex` (`shop_id`,`product_id`,`role`),
  KEY `sb_staffs_products_sb_product_id_fk` (`product_id`),
  KEY `sb_staffs_products_shop_id_product_id_index` (`shop_id`,`product_id`),
  KEY `sb_staffs_products_shop_id_role_index` (`shop_id`,`role`),
  CONSTRAINT `sb_staffs_products_sb_product_id_fk` FOREIGN KEY (`product_id`) REFERENCES `sb_product` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_staffs_products_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1360 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_subscribe_status`
--

DROP TABLE IF EXISTS `sb_subscribe_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_subscribe_status` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `ref_id` bigint(20) NOT NULL,
  `ref_type` varchar(25) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `email_address` varchar(255) NOT NULL,
  `shop_id` int(11) NOT NULL,
  `status` varchar(50) NOT NULL DEFAULT 'unsubscribed',
  `topic` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`),
  KEY `idx_shop_id_email_topic_status` (`shop_id`,`email_address`,`topic`,`status`),
  CONSTRAINT `sb_subscribe_status_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_surveys`
--

DROP TABLE IF EXISTS `sb_surveys`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_surveys` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `created_at` datetime NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  `answer` longtext,
  `type` varchar(255) DEFAULT NULL,
  `shop_id` int(11) NOT NULL,
  `is_skip` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_sb_surveys_1_idx` (`shop_id`),
  CONSTRAINT `fk_sb_surveys_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=108078 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_template_shop_category`
--

DROP TABLE IF EXISTS `sb_template_shop_category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_template_shop_category` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `level` int(11) DEFAULT NULL,
  `category` text,
  `category_path` text,
  `updated_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `type` tinyint(4) DEFAULT NULL COMMENT '1 - category; 2 - niche',
  PRIMARY KEY (`id`),
  KEY `sb_template_shop_category_level_idx` (`level`)
) ENGINE=InnoDB AUTO_INCREMENT=5971 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_theme`
--

DROP TABLE IF EXISTS `sb_theme`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_theme` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `latest_version` varchar(20) NOT NULL,
  `active` int(1) NOT NULL DEFAULT '1',
  `is_shopbase_theme` int(1) DEFAULT '1',
  `is_default` int(1) DEFAULT '0',
  `short_desc` text,
  `features` text,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `user_id` int(11) NOT NULL,
  `desktop_image` text,
  `mobile_image` text,
  `repo_url` text,
  `status` int(11) DEFAULT NULL,
  `install` bigint(20) DEFAULT NULL,
  `is_private` tinyint(4) NOT NULL DEFAULT '0',
  `pbase_active` tinyint(4) DEFAULT '0',
  `git_provider` tinyint(4) DEFAULT '0',
  `handle` varchar(255) CHARACTER SET utf8mb4 DEFAULT NULL,
  `type` tinyint(4) DEFAULT NULL COMMENT '1 - shopbase, 2-dev, 3-private',
  PRIMARY KEY (`id`),
  KEY `fk_sb_theme_users_by_user_id` (`user_id`),
  KEY `sb_theme_name_idx` (`name`),
  CONSTRAINT `fk_sb_theme_users_by_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=147 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_theme_build`
--

DROP TABLE IF EXISTS `sb_theme_build`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_theme_build` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `theme_id` bigint(20) unsigned NOT NULL,
  `version_id` bigint(20) unsigned NOT NULL,
  `trigger_id` bigint(20) unsigned NOT NULL,
  `status` tinyint(4) NOT NULL COMMENT '1-created, 2-waiting_for_resource, 3-preparing, 4-pending, 5-running, 6-success, 7-failed, 8-canceled, 9-skipped, 10-manual, 11-scheduled',
  `branch` varchar(255) NOT NULL,
  `commit` varchar(50) NOT NULL,
  `extra_data` text,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_theme_build_id_idx` (`id`),
  KEY `sb_theme_build_branch_trigger_id_commit_idx` (`branch`,`trigger_id`,`commit`),
  KEY `sb_theme_build_sb_theme_id_fk` (`theme_id`),
  KEY `sb_theme_build_sb_theme_version_id_fk` (`version_id`),
  CONSTRAINT `sb_theme_build_sb_theme_id_fk` FOREIGN KEY (`theme_id`) REFERENCES `sb_theme` (`id`),
  CONSTRAINT `sb_theme_build_sb_theme_version_id_fk` FOREIGN KEY (`version_id`) REFERENCES `sb_theme_version` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=73 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_theme_template`
--

DROP TABLE IF EXISTS `sb_theme_template`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_theme_template` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `description` text,
  `shop_id` int(11) NOT NULL,
  `theme_id` int(11) NOT NULL,
  `business_type` int(11) DEFAULT NULL,
  `style` int(11) DEFAULT NULL,
  `show_on_slider` tinyint(1) NOT NULL DEFAULT '0',
  `fallback` tinyint(1) NOT NULL DEFAULT '0',
  `desktop_image` varchar(500) DEFAULT NULL,
  `mobile_image` varchar(500) DEFAULT NULL,
  `preview_image` varchar(500) DEFAULT NULL,
  `active` tinyint(1) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `visible` tinyint(1) DEFAULT NULL,
  `handle` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=39 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_theme_template_category`
--

DROP TABLE IF EXISTS `sb_theme_template_category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_theme_template_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `theme_template_id` int(11) NOT NULL,
  `shop_category_id` int(11) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=60 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_theme_version`
--

DROP TABLE IF EXISTS `sb_theme_version`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_theme_version` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `theme_id` bigint(20) unsigned NOT NULL,
  `version` varchar(20) NOT NULL,
  `revision` int(11) NOT NULL DEFAULT '1',
  `image` varchar(1000) DEFAULT NULL,
  `settings_schema` longtext,
  `settings_data` longtext,
  `active` int(1) NOT NULL DEFAULT '1',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `revision_hash` varchar(50) DEFAULT NULL,
  `status` int(11) NOT NULL,
  `description` text,
  `note_from_reviewer` text,
  `attachment` text,
  `branch` varchar(250) DEFAULT NULL,
  `api_token` varchar(50) NOT NULL,
  `pbase_schema` longtext,
  `pbase_data` longtext,
  `commit` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `index2` (`theme_id`),
  KEY `idx_api_token` (`api_token`),
  CONSTRAINT `fk_sb_theme_by_theme_id` FOREIGN KEY (`theme_id`) REFERENCES `sb_theme` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=143 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_timeline`
--

DROP TABLE IF EXISTS `sb_timeline`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_timeline` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `ref_id` bigint(20) NOT NULL,
  `body` longtext CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
  `created_at` datetime NOT NULL,
  `entities_type` varchar(45) DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `action` text,
  `position` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_timeline_ref_id_shop_id_entities_type_idx` (`ref_id`,`shop_id`,`entities_type`),
  KEY `sb_timeline_ref_id_entities_type_idx` (`ref_id`,`entities_type`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=546723 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_timer_countdown`
--

DROP TABLE IF EXISTS `sb_timer_countdown`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_timer_countdown` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `enable` tinyint(1) DEFAULT '0',
  `display_type` varchar(50) NOT NULL,
  `collection_ref_ids` mediumtext,
  `product_ref_ids` longtext,
  `duration` int(11) NOT NULL,
  `duration_type` varchar(50) NOT NULL,
  `duration_repeat` tinyint(1) DEFAULT '0',
  `duration_start_at` datetime NOT NULL,
  `duration_expire_at` datetime DEFAULT NULL,
  `schedule_enable` tinyint(1) DEFAULT '0',
  `schedule_start_at` datetime DEFAULT NULL,
  `schedule_end_at` datetime DEFAULT NULL,
  `settings` longtext,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`,`enable`),
  KEY `shop_id_2` (`shop_id`,`display_type`,`enable`),
  CONSTRAINT `copt_timer_countdown_ibfk_1` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=3716 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_transaction_fee_log`
--

DROP TABLE IF EXISTS `sb_transaction_fee_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_transaction_fee_log` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `processing_key` varchar(255) DEFAULT NULL,
  `shop_id` int(11) DEFAULT NULL,
  `order_id` bigint(20) unsigned DEFAULT NULL,
  `transaction_id` bigint(20) unsigned DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `status_updated_at` datetime DEFAULT NULL,
  `amount` double NOT NULL,
  `invoice_id` varchar(255) DEFAULT NULL,
  `failed_count` int(11) NOT NULL DEFAULT '0',
  `failed_invoice_ids` varchar(255) DEFAULT NULL,
  `status` varchar(255) NOT NULL,
  `options` text NOT NULL,
  `fee_type` varchar(255) NOT NULL,
  `fee_unique_key` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `fee_unique_key_UNIQUE` (`fee_unique_key`),
  KEY `sb_transaction_fee_log_sb_order_id_fk` (`order_id`),
  KEY `sb_transaction_fee_log_status_shop_id_idx` (`status`,`shop_id`),
  KEY `sb_transaction_fee_log_invoice_id_shop_id_idx` (`invoice_id`,`shop_id`),
  KEY `sb_transaction_fee_log_shop_id_idx` (`shop_id`),
  KEY `sb_transaction_fee_log_sb_transaction_id_fk` (`transaction_id`),
  CONSTRAINT `sb_transaction_fee_log_shops_id_fk` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=395701 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_url_redirect`
--

DROP TABLE IF EXISTS `sb_url_redirect`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_url_redirect` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `from_url` varchar(1000) NOT NULL,
  `to_url` varchar(1000) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10662 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_url_redirect_saved_search`
--

DROP TABLE IF EXISTS `sb_url_redirect_saved_search`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_url_redirect_saved_search` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `search_query` longtext,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_user_affiliate_cashback`
--

DROP TABLE IF EXISTS `sb_user_affiliate_cashback`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_user_affiliate_cashback` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `affiliate_group_id` int(11) DEFAULT NULL,
  `cashback_group_id` int(11) DEFAULT NULL,
  `affiliate_ref_code` varchar(20) DEFAULT NULL,
  `affiliate_assigned_at` timestamp NULL DEFAULT NULL,
  `cashback_assigned_at` timestamp NULL DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_user_affiliate_cashback_user_id_idx` (`user_id`),
  UNIQUE KEY `sb_user_affiliate_cashback_affiliate_ref_code_idx` (`affiliate_ref_code`),
  KEY `sb_user_affiliate_cashback_sb_affiliate_group_id_fk` (`affiliate_group_id`),
  KEY `sb_user_affiliate_cashback_sb_cashback_group_id_fk` (`cashback_group_id`),
  CONSTRAINT `sb_user_affiliate_cashback_sb_affiliate_group_id_fk` FOREIGN KEY (`affiliate_group_id`) REFERENCES `sb_affiliate_group` (`id`),
  CONSTRAINT `sb_user_affiliate_cashback_sb_cashback_group_id_fk` FOREIGN KEY (`cashback_group_id`) REFERENCES `sb_cashback_group` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=116 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_user_domain`
--

DROP TABLE IF EXISTS `sb_user_domain`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_user_domain` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `domain` varchar(255) NOT NULL,
  `expired_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `auto_renew` tinyint(1) NOT NULL DEFAULT '0',
  `protect_privacy` tinyint(1) NOT NULL DEFAULT '0',
  `user_id` int(10) unsigned NOT NULL,
  `user_provider_id` int(10) unsigned NOT NULL,
  `ref_order_id` int(10) unsigned NOT NULL,
  `price` float NOT NULL,
  `protect_privacy_fee` float NOT NULL DEFAULT '0',
  `discount_amount` float NOT NULL DEFAULT '0',
  `total_amount` float NOT NULL,
  `status` tinyint(1) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `domain_status` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=123 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_user_nps_survey_data`
--

DROP TABLE IF EXISTS `sb_user_nps_survey_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_user_nps_survey_data` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `nps_surveys` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_user_nps_survey_data_index` (`user_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=627 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_user_provider`
--

DROP TABLE IF EXISTS `sb_user_provider`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_user_provider` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `email` varchar(255) NOT NULL,
  `user_ref_id` int(11) DEFAULT NULL,
  `provider` tinyint(1) NOT NULL,
  `user_id` int(11) NOT NULL,
  `extra_params` text,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_user_subscriber_noti`
--

DROP TABLE IF EXISTS `sb_user_subscriber_noti`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_user_subscriber_noti` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `noti_id` int(11) NOT NULL,
  `is_read` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `index_user_noti_id` (`user_id`,`noti_id`)
) ENGINE=InnoDB AUTO_INCREMENT=165 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_users_billing_cards`
--

DROP TABLE IF EXISTS `sb_users_billing_cards`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_users_billing_cards` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `billing_card_id` int(11) NOT NULL,
  `is_default` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_users_billing_cards_user_id_billing_card_id_uindex` (`user_id`,`billing_card_id`),
  KEY `sb_users_billing_cards_sb_billing_card_id_fk` (`billing_card_id`),
  CONSTRAINT `sb_users_billing_cards_sb_billing_card_id_fk` FOREIGN KEY (`billing_card_id`) REFERENCES `sb_billing_card` (`id`),
  CONSTRAINT `sb_users_billing_cards_users_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_users_shops`
--

DROP TABLE IF EXISTS `sb_users_shops`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_users_shops` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `shop_id` int(11) NOT NULL,
  `role` enum('staff','admin') NOT NULL,
  `is_full_access` tinyint(1) NOT NULL DEFAULT '0',
  `permissions` text,
  `verify_email_status` enum('sent','not_sent_yet','verified') DEFAULT 'not_sent_yet',
  `invitation_token` varchar(255) DEFAULT NULL,
  `invitation_status` enum('accepted','decline','pending') DEFAULT 'pending',
  `status` enum('active','deactivate','virtual') DEFAULT 'active',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `staff_code` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_shop` (`user_id`,`shop_id`),
  KEY `shop_id` (`shop_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `sb_users_shops_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_users_shops_ibfk_2` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=34794 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_webhook`
--

DROP TABLE IF EXISTS `sb_webhook`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_webhook` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `third_app_id` int(11) DEFAULT NULL,
  `shop_id` int(11) NOT NULL,
  `private_app_id` int(11) DEFAULT NULL,
  `address` varchar(255) NOT NULL,
  `topic` varchar(255) NOT NULL,
  `format` varchar(255) NOT NULL,
  `fields` longtext,
  `metafield_namespaces` longtext,
  `verification_code` varchar(255) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `status` tinyint(4) DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `third_app_id_shop_id_topic_address` (`third_app_id`,`shop_id`,`topic`,`address`),
  UNIQUE KEY `private_app_id_shop_id_topic_address` (`shop_id`,`private_app_id`,`topic`,`address`),
  KEY `shop_id_topic` (`shop_id`,`topic`),
  KEY `sb_webhook_ibfk_3_idx` (`private_app_id`),
  CONSTRAINT `sb_webhook_ibfk_1` FOREIGN KEY (`third_app_id`) REFERENCES `third_app` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_webhook_ibfk_2` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE,
  CONSTRAINT `sb_webhook_ibfk_3` FOREIGN KEY (`private_app_id`) REFERENCES `shop_private_apps` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=43709 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_webhook_events`
--

DROP TABLE IF EXISTS `sb_webhook_events`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_webhook_events` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `authorization` varchar(255) NOT NULL,
  `gateway` varchar(255) DEFAULT NULL,
  `kind` varchar(255) DEFAULT NULL,
  `receipt` text,
  `checkout_token` varchar(255) DEFAULT NULL,
  `processed` tinyint(4) DEFAULT NULL,
  `shop_id` bigint(20) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `sub_gateway` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `sb_webhook_events_created_at_index` (`created_at`),
  KEY `sb_webhook_events_shop_id_checkout_token_index` (`shop_id`,`checkout_token`)
) ENGINE=InnoDB AUTO_INCREMENT=326725 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_webhook_logs`
--

DROP TABLE IF EXISTS `sb_webhook_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_webhook_logs` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `third_app_id` int(11) DEFAULT NULL,
  `topic` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `address` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `status` enum('success','failure') COLLATE utf8mb4_unicode_ci NOT NULL,
  `payload` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `response` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `webhook_request_id` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `error_string` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `retry` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `third_app_id` (`third_app_id`),
  KEY `shop_id_topic_status` (`shop_id`,`topic`,`status`),
  KEY `address` (`address`),
  KEY `created_at_index` (`created_at`),
  CONSTRAINT `sb_webhook_logs_ibfk_3` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `sb_webhook_logs_ibfk_4` FOREIGN KEY (`third_app_id`) REFERENCES `third_app` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=254904 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sb_webhook_retries`
--

DROP TABLE IF EXISTS `sb_webhook_retries`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sb_webhook_retries` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `hash` varchar(255) NOT NULL,
  `scheduled_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  `payload` blob NOT NULL,
  `current_level` int(11) NOT NULL DEFAULT '0',
  `webhook_id` bigint(20) DEFAULT NULL,
  `shop_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `sb_webhook_retries_hash_uindex` (`hash`),
  KEY `scheduled_at_current_level_index` (`scheduled_at`,`current_level`)
) ENGINE=InnoDB AUTO_INCREMENT=3872 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `scalable_press_order`
--

DROP TABLE IF EXISTS `scalable_press_order`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `scalable_press_order` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `total` double DEFAULT NULL,
  `shipping` double DEFAULT NULL,
  `sub_total` double DEFAULT NULL,
  `tax` double DEFAULT NULL,
  `fees` double DEFAULT NULL,
  `product_ref_id` varchar(255) NOT NULL,
  `color` varchar(50) NOT NULL,
  `size` varchar(50) NOT NULL,
  `quantity` int(11) NOT NULL,
  `design_ref_id` varchar(255) NOT NULL,
  `state` varchar(50) NOT NULL,
  `city` varchar(50) DEFAULT NULL,
  `address1` varchar(255) NOT NULL,
  `zip` varchar(50) NOT NULL,
  `country` varchar(50) NOT NULL,
  `name` varchar(50) NOT NULL,
  `created_at` datetime NOT NULL,
  `order_token` varchar(255) NOT NULL,
  `base_product_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `scalable_press_order_di_index` (`design_ref_id`),
  KEY `scalable_press_order_pri_index` (`product_ref_id`),
  KEY `scalable_press_order_state_index` (`state`)
) ENGINE=InnoDB AUTO_INCREMENT=664406 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `settings`
--

DROP TABLE IF EXISTS `settings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `settings` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `key_string` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `value` longtext COLLATE utf8_unicode_ci,
  `updated` datetime NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  `app_code` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_E545A0C54D16C4DD` (`shop_id`),
  KEY `IDX_E545A0C54D16C4DD723B1538958753F5` (`shop_id`,`app_code`,`key_string`),
  KEY `IDX_E545A0C54D16C4DD723B15388CDE5729` (`shop_id`,`app_code`,`type`),
  KEY `IDX_E545A0C5958753F5723B1538` (`key_string`,`app_code`),
  KEY `IDX_E545A0C54D16C4DD723B1538958753F58CDE5729` (`shop_id`,`app_code`,`key_string`,`type`),
  CONSTRAINT `FK_E545A0C54D16C4DD` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=1955418634 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `shop_private_apps`
--

DROP TABLE IF EXISTS `shop_private_apps`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `shop_private_apps` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app_name` varchar(255) NOT NULL,
  `shop_id` int(11) NOT NULL,
  `support_email` varchar(255) NOT NULL,
  `api_key` varchar(255) NOT NULL,
  `app_password` varchar(255) NOT NULL,
  `shared_secret` varchar(255) NOT NULL,
  `scopes` text,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `shop_private_apps_api_key_uindex` (`api_key`)
) ENGINE=InnoDB AUTO_INCREMENT=132 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `shops`
--

DROP TABLE IF EXISTS `shops`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `shops` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) DEFAULT NULL,
  `enable` tinyint(1) NOT NULL,
  `status` varchar(20) COLLATE utf8_unicode_ci DEFAULT 'active',
  `email_bounced_count` int(11) NOT NULL,
  `had_pio_channel` tinyint(1) DEFAULT NULL,
  `domain` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `public_domain` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `absolute_path` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ref_id` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `address` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `city` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `country` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `currency` varchar(3) COLLATE utf8_unicode_ci DEFAULT NULL,
  `currency_format` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `latitude` double DEFAULT NULL,
  `longitude` double DEFAULT NULL,
  `phone` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mobile` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `province` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `province_code` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `apartment` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `owner_first_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `owner_last_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `owner_full_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `owner_title` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `owner_email` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `paypal_email` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `zip` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `timezone` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `support_email` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `shopify_created_time` datetime DEFAULT NULL,
  `email_spam_banned` tinyint(1) NOT NULL,
  `last_warning_time` datetime DEFAULT NULL,
  `is_show_instruction` longtext COLLATE utf8_unicode_ci,
  `view_onboarding` tinyint(1) NOT NULL,
  `last_payment_result` int(11) DEFAULT NULL,
  `shopify_data` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `shopify_last_sync_time` datetime DEFAULT NULL,
  `raw_data` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `raw_last_sync_time` datetime DEFAULT NULL,
  `api_key` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `beta_features` tinyint(1) NOT NULL,
  `current_packet` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `logo` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `logo_thumbnail` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `accessKey` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `platform` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `script_updated_at` datetime DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `closed_at` datetime DEFAULT NULL,
  `billing_contact_emails` longtext COLLATE utf8_unicode_ci,
  `extra_billing_info` longtext COLLATE utf8_unicode_ci,
  `braintree_payment_method_token` longtext COLLATE utf8_unicode_ci,
  `braintree_payment_method_nonce` longtext COLLATE utf8_unicode_ci,
  `braintree_payment_method_details` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:json_array)',
  `total_revenue` double DEFAULT NULL,
  `total_generated_revenue` double DEFAULT NULL,
  `last_month_generated_revenue` double DEFAULT NULL,
  `language` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cluster_id` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `rec_rule_setup` tinyint(1) NOT NULL,
  `email_domain_type` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `domain_verified` tinyint(1) DEFAULT NULL,
  `email_review_status` varchar(15) COLLATE utf8_unicode_ci DEFAULT NULL,
  `last_login` datetime DEFAULT NULL,
  `note` varchar(500) CHARACTER SET utf8 DEFAULT NULL,
  `setting_json` longtext COLLATE utf8_unicode_ci,
  `tags` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `auto_login_token` varchar(64) COLLATE utf8_unicode_ci DEFAULT NULL,
  `platform_plan` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `platform_plan_display_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `product_count` int(11) DEFAULT NULL,
  `order_count` int(11) DEFAULT NULL,
  `customer_count` int(11) DEFAULT NULL,
  `collection_count` int(11) DEFAULT NULL,
  `collect_count` int(11) DEFAULT NULL,
  `myshopbase_domain` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `checkout_api_supported` tinyint(4) DEFAULT NULL,
  `country_name` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `county_taxes` tinyint(4) DEFAULT NULL,
  `enabled_presentment_currencies` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `eligible_for_card_reader_giveaway` tinyint(4) DEFAULT NULL,
  `eligible_for_payments` tinyint(4) DEFAULT NULL,
  `force_ssl` tinyint(4) DEFAULT NULL,
  `google_apps_domain` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `google_apps_login_enabled` tinyint(4) DEFAULT NULL,
  `has_discounts` tinyint(4) DEFAULT NULL,
  `has_gift_cards` tinyint(4) DEFAULT NULL,
  `has_storefront` tinyint(4) DEFAULT NULL,
  `multi_location_enabled` tinyint(4) DEFAULT NULL,
  `password_enabled` tinyint(4) DEFAULT NULL,
  `plan_display_name` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `plan_name` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pre_launch_enabled` tinyint(4) DEFAULT NULL,
  `setup_required` tinyint(4) DEFAULT NULL,
  `requires_extra_payments_agreement` tinyint(4) DEFAULT NULL,
  `source` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `taxes_included` tinyint(4) DEFAULT NULL,
  `tax_shipping` tinyint(4) DEFAULT NULL,
  `weight_unit` varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL,
  `address2` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `money_in_emails_format` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `money_with_currency_format` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `money_with_currency_in_emails_format` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `redirection_enable` tinyint(4) DEFAULT '0',
  `package_id` int(11) DEFAULT NULL,
  `package_group_id` int(11) DEFAULT NULL,
  `package` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,
  `package_type` varchar(60) COLLATE utf8_unicode_ci DEFAULT NULL,
  `package_price` decimal(10,2) DEFAULT NULL,
  `package_origin_price` decimal(10,2) DEFAULT NULL,
  `stripe_customer_id` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `stripe_subscription_id` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `stripe_card_id` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `payment_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `payment_gateway` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `charge_failed_count` int(11) DEFAULT '0',
  `shop_registered_at` datetime DEFAULT NULL,
  `has_orders` tinyint(1) DEFAULT '0',
  `using_commission` tinyint(1) DEFAULT NULL,
  `app_feature_limited` tinyint(1) DEFAULT NULL,
  `previous_payment_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `upgraded` datetime DEFAULT NULL,
  `package_start_time` datetime DEFAULT NULL,
  `recurring_app_charge_amount` decimal(10,2) DEFAULT NULL,
  `custom_free_trial_day` int(11) DEFAULT NULL,
  `cancel_subscription` tinyint(1) DEFAULT NULL,
  `end_free_trial_at` datetime DEFAULT NULL,
  `dev_shop` tinyint(1) DEFAULT NULL,
  `personal_website` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `coupon_code` varchar(25) COLLATE utf8_unicode_ci DEFAULT NULL,
  `freshsales_id` bigint(20) DEFAULT NULL,
  `opt_out_code` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `dispute_rate` double DEFAULT '0',
  `subscription_expired_at` datetime DEFAULT NULL,
  `need_to_pay` double DEFAULT NULL,
  `ow_started_at` datetime DEFAULT NULL,
  `is_survey_completed` tinyint(4) DEFAULT NULL,
  `store_class` varchar(10) COLLATE utf8_unicode_ci NOT NULL DEFAULT 'S1',
  `visible_powered_by` tinyint(4) NOT NULL DEFAULT '0',
  `use_phub` tinyint(1) DEFAULT '0',
  `online_store_enable` int(11) DEFAULT NULL,
  `dmca_violation` tinyint(1) DEFAULT '0',
  `scam_violation` tinyint(1) DEFAULT '0',
  `indirect_violation` tinyint(1) DEFAULT '0',
  `utm_data` text COLLATE utf8_unicode_ci,
  `enable_noti_mobile` tinyint(1) DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_237A6783A7A91E0B` (`domain`),
  UNIQUE KEY `myshopbase_domain_UNIQUE` (`myshopbase_domain`),
  UNIQUE KEY `shops_opt_out_code_idx` (`opt_out_code`),
  KEY `IDX_237A6783A76ED395` (`user_id`),
  KEY `IDX_237A67833952D0CB8B8E8428C912ED9D` (`platform`,`created_at`,`api_key`),
  KEY `IDX_237A6783C912ED9D` (`api_key`),
  KEY `IDX_237A6783170B4953` (`owner_email`),
  KEY `IDX_237A678321B741A9` (`ref_id`),
  KEY `IDX_237A6783A758B1B4` (`public_domain`),
  KEY `IDX_Shops_ClosedAt` (`closed_at`),
  KEY `sbase_shops_dispute_rate_idx` (`dispute_rate`),
  KEY `shops_use_phub_IDX` (`use_phub`) USING BTREE,
  CONSTRAINT `FK_237A6783A76ED395` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=10071857 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `shops_coupon`
--

DROP TABLE IF EXISTS `shops_coupon`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `shops_coupon` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `shop_id` bigint(20) NOT NULL,
  `coupon_code` varchar(255) NOT NULL,
  `coupon_setting` text NOT NULL,
  `applied_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP,
  `is_applied` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `shop_id_UNIQUE` (`shop_id`)
) ENGINE=InnoDB AUTO_INCREMENT=389 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `shops_sessions`
--

DROP TABLE IF EXISTS `shops_sessions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `shops_sessions` (
  `token` varchar(255) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `shop_id` int(11) DEFAULT NULL,
  `issued_at` datetime DEFAULT NULL,
  `expired_at` datetime DEFAULT NULL,
  `data` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`token`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `shops_third_app`
--

DROP TABLE IF EXISTS `shops_third_app`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `shops_third_app` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) NOT NULL,
  `user_scope` text COLLATE utf8mb4_unicode_ci,
  `third_app_client_id` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `access_token` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `enable` tinyint(1) DEFAULT '0',
  `expired_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `payload` longtext COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `sta_shop_id_key` (`shop_id`),
  KEY `sta_third_app_client_id` (`third_app_client_id`)
) ENGINE=InnoDB AUTO_INCREMENT=16855 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `staff_assigned`
--

DROP TABLE IF EXISTS `staff_assigned`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `staff_assigned` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `approver_id` int(11) NOT NULL,
  `roles` text,
  `status` int(2) DEFAULT '0',
  `expired_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `staff_assigned_shop`
--

DROP TABLE IF EXISTS `staff_assigned_shop`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `staff_assigned_shop` (
  `staff_assigned_id` int(11) NOT NULL,
  `shop_id` int(11) NOT NULL,
  PRIMARY KEY (`staff_assigned_id`,`shop_id`),
  CONSTRAINT `staff_assigned_shop_ibfk_1` FOREIGN KEY (`staff_assigned_id`) REFERENCES `staff_assigned` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `supplier_product`
--

DROP TABLE IF EXISTS `supplier_product`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `supplier_product` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `active` tinyint(1) NOT NULL,
  `note` longtext,
  `product_id` bigint(20) NOT NULL,
  `supplier_id` int(11) DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `selected` tinyint(4) DEFAULT NULL,
  `processing_days_from` int(11) DEFAULT NULL,
  `processing_days_to` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `supplier_product_active_index` (`active`),
  KEY `supplier_product_product_id_index` (`product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `supplier_shipping_line`
--

DROP TABLE IF EXISTS `supplier_shipping_line`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `supplier_shipping_line` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `days` int(11) DEFAULT NULL,
  `note` longtext,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `supplier_variant`
--

DROP TABLE IF EXISTS `supplier_variant`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `supplier_variant` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `variant_id` varchar(255) NOT NULL,
  `active` tinyint(4) NOT NULL,
  `note` longtext,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `supplier_product_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `supplier_variant_active_index` (`active`),
  KEY `supplier_variant_variant_id_index` (`variant_id`),
  KEY `supplier_variant_supplier_product_id_index` (`supplier_product_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `supplier_variant_price`
--

DROP TABLE IF EXISTS `supplier_variant_price`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `supplier_variant_price` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `current` tinyint(4) NOT NULL,
  `price` double NOT NULL,
  `note` longtext,
  `supplier_variant_id` int(11) DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `expired_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `supplier_variant_price_current_index` (`current`),
  KEY `supplier_variant_price_supplier_variant_id_index` (`supplier_variant_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `supplier_variant_shipping_price`
--

DROP TABLE IF EXISTS `supplier_variant_shipping_price`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `supplier_variant_shipping_price` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `active` tinyint(4) NOT NULL,
  `current` tinyint(4) NOT NULL,
  `note` longtext,
  `price` double NOT NULL,
  `supplier_variant_id` int(11) DEFAULT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `expired_at` datetime DEFAULT NULL,
  `shipping_line_id` int(11) DEFAULT NULL,
  `applied_from` datetime DEFAULT NULL,
  `applied_to` datetime DEFAULT NULL,
  `is_default` tinyint(1) NOT NULL DEFAULT '0',
  `is_deleted` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `supplier_variant_shipping_price_active_index` (`active`),
  KEY `supplier_variant_shipping_price_current_index` (`current`),
  KEY `supplier_variant_shipping_price_sli_index` (`shipping_line_id`),
  KEY `supplier_variant_shipping_price_svi_index` (`supplier_variant_id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `survey`
--

DROP TABLE IF EXISTS `survey`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `survey` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `app_id` int(11) DEFAULT NULL,
  `answer` longtext COLLATE utf8_unicode_ci NOT NULL COMMENT '(DC2Type:json_array)',
  `type` smallint(6) DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_AD5F9BFC4D16C4DD` (`shop_id`),
  KEY `IDX_AD5F9BFC7987212D` (`app_id`),
  CONSTRAINT `FK_AD5F9BFC4D16C4DD` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE,
  CONSTRAINT `FK_AD5F9BFC7987212D` FOREIGN KEY (`app_id`) REFERENCES `app` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `test_table`
--

DROP TABLE IF EXISTS `test_table`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `test_table` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `description` varchar(128) NOT NULL,
  `abc` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `third_app`
--

DROP TABLE IF EXISTS `third_app`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `third_app` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `company_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `scope` text COLLATE utf8mb4_unicode_ci,
  `white_list` text COLLATE utf8mb4_unicode_ci,
  `email_support` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `domain` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `logo` text COLLATE utf8mb4_unicode_ci,
  `salt` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `client_id` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `client_secret` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `client_secret_created_at` datetime DEFAULT NULL,
  `client_secret_2` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `client_secret_2_created_at` datetime DEFAULT NULL,
  `refresh_token` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `owner_id` int(11) NOT NULL,
  `status` smallint(6) NOT NULL,
  `app_enable` tinyint(1) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `short_description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `handle` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `price` double DEFAULT NULL,
  `promotion_video` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `demo_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email_contact` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `policy_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `support_page_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `media` text COLLATE utf8mb4_unicode_ci,
  `pricing_cycle` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `pricing_plan` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `pricing_discount` double DEFAULT NULL,
  `pricing_title` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `pricing_type` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `pricing_value` int(11) DEFAULT NULL,
  `search_term` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `pricing_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `preferences_url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `allow_install_without_oauth` tinyint(4) DEFAULT NULL,
  `native` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `client_id_index` (`client_id`),
  KEY `handle_index` (`handle`),
  KEY `third_app_users_id_fk` (`owner_id`),
  KEY `third_app_allow_install_without_oauth_idx` (`allow_install_without_oauth`),
  CONSTRAINT `third_app_users_id_fk` FOREIGN KEY (`owner_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=123 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `third_app_categories`
--

DROP TABLE IF EXISTS `third_app_categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `third_app_categories` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `description` text NOT NULL,
  `parent_id` int(11) DEFAULT NULL,
  `handle` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `third_app_categories_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `third_app_categories` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `third_app_categories_apps`
--

DROP TABLE IF EXISTS `third_app_categories_apps`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `third_app_categories_apps` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `app_id` int(11) NOT NULL,
  `category_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `app_id` (`app_id`),
  KEY `category_id` (`category_id`),
  CONSTRAINT `third_app_categories_apps_ibfk_1` FOREIGN KEY (`app_id`) REFERENCES `third_app` (`id`) ON DELETE CASCADE,
  CONSTRAINT `third_app_categories_apps_ibfk_2` FOREIGN KEY (`category_id`) REFERENCES `third_app_categories` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=72 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `time_periods`
--

DROP TABLE IF EXISTS `time_periods`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `time_periods` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `year` date NOT NULL,
  `month` date NOT NULL,
  `week` date NOT NULL,
  `day` date NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `timing_schedule`
--

DROP TABLE IF EXISTS `timing_schedule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `timing_schedule` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `time` int(11) NOT NULL,
  `timing_data` longtext COLLATE utf8_unicode_ci NOT NULL,
  `timing_key` varchar(64) COLLATE utf8_unicode_ci NOT NULL,
  `used` tinyint(1) DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_2634C2FA6F949845` (`time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `uploaded_files`
--

DROP TABLE IF EXISTS `uploaded_files`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `uploaded_files` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shop_id` int(11) DEFAULT NULL,
  `content_type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `file_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `file_type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `file_size` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `file_path` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `data` blob,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `shop_id` (`shop_id`),
  KEY `content_type` (`content_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `users`
--

DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `username_canonical` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `email` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `email_canonical` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `enabled` tinyint(1) NOT NULL,
  `salt` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `password` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `last_login` datetime DEFAULT NULL,
  `locked` tinyint(1) NOT NULL,
  `expired` tinyint(1) NOT NULL,
  `expires_at` datetime DEFAULT NULL,
  `confirmation_token` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `password_requested_at` datetime DEFAULT NULL,
  `roles` longtext COLLATE utf8_unicode_ci NOT NULL COMMENT '(DC2Type:array)',
  `credentials_expired` tinyint(1) NOT NULL,
  `credentials_expire_at` datetime DEFAULT NULL,
  `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `first_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `last_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `extra_analytics_params` longtext COLLATE utf8_unicode_ci COMMENT '(DC2Type:array)',
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `first_time_login_by_email` tinyint(1) DEFAULT NULL,
  `sign_up_source` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `notification_read_at` datetime DEFAULT NULL,
  `test_user` tinyint(1) NOT NULL DEFAULT '0',
  `phone_user` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `company_size` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_dev_store` tinyint(1) DEFAULT '0',
  `verify_email_status` enum('sent_email','verified','not_sent_yet') COLLATE utf8_unicode_ci DEFAULT NULL,
  `phone_number_verify_status` enum('not_sent_yet','sent','unverify','verified') COLLATE utf8_unicode_ci NOT NULL,
  `avatar` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_receive_notification` tinyint(1) DEFAULT '0',
  `address` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `apartment` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `city` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `province` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `province_code` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `country` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `country_code` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `zip` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `personal_website` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `stripe_customer_id` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `stripe_card_id` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_first_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_last_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_street_address` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_city` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_zip` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_country_code` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_country` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_province_code` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_province` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `billing_apartment` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `freshsales_id` bigint(20) DEFAULT NULL,
  `ref_user_id` int(11) DEFAULT NULL,
  `package_group_id` int(11) DEFAULT NULL,
  `braintree_customer_id` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `staff_violation` tinyint(1) DEFAULT '0',
  `owner_violation` tinyint(1) DEFAULT '0',
  `ip_violation` tinyint(1) DEFAULT '0',
  `indirect_violation` tinyint(1) DEFAULT '0',
  `locale_code` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `affiliate_commission_deal_id` int(11) DEFAULT NULL,
  `subscriber_chanel` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `last_updated_subscriber_noti` datetime DEFAULT NULL,
  `enable_noti_mobile` tinyint(1) DEFAULT '1',
  `gender` tinyint(1) DEFAULT '1',
  `sbcn_user_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQ_1483A5E992FC23A8` (`username_canonical`),
  UNIQUE KEY `UNIQ_1483A5E9A0D96FBF` (`email_canonical`),
  UNIQUE KEY `UIQ_userId` (`email`),
  KEY `IDX_1483A5E9E7927C74` (`email`),
  KEY `IDX_1483A5E9C05FB297` (`confirmation_token`)
) ENGINE=InnoDB AUTO_INCREMENT=100818 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `utm_logs`
--

DROP TABLE IF EXISTS `utm_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `utm_logs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `app_shop_id` int(11) DEFAULT NULL,
  `channel` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `medium` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `term` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `IDX_4657E97BA04B4490` (`app_shop_id`),
  CONSTRAINT `FK_4657E97BA04B4490` FOREIGN KEY (`app_shop_id`) REFERENCES `apps_shops` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `xrate_to_usd`
--

DROP TABLE IF EXISTS `xrate_to_usd`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `xrate_to_usd` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `time_day` varchar(32) CHARACTER SET utf8 DEFAULT NULL,
  `currency_code` varchar(8) CHARACTER SET utf8 DEFAULT NULL,
  `xrate_to_usd` double DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50112 SET @disable_bulk_load = IF (@is_rocksdb_supported, 'SET SESSION rocksdb_bulk_load = @old_rocksdb_bulk_load', 'SET @dummy_rocksdb_bulk_load = 0') */;
/*!50112 PREPARE s FROM @disable_bulk_load */;
/*!50112 EXECUTE s */;
/*!50112 DEALLOCATE PREPARE s */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2021-02-05  7:14:06
